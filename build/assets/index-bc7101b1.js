import{fm as G,f$ as j,fo as T,g0 as g,g1 as $,fp as U,g2 as q,fh as f,fn as N,fi as l,fj as z,g3 as H,g4 as M,g5 as S,g6 as m,g7 as V,g8 as X,g9 as D,ga as Z,gb as P,gc as J}from"./index-fc282d72.js";const W="address/5.7.0",E=new f(W);function L(r){N(r,20)||E.throwArgumentError("invalid address","address",r),r=r.toLowerCase();const e=r.substring(2).split(""),t=new Uint8Array(40);for(let s=0;s<40;s++)t[s]=e[s].charCodeAt(0);const i=T(U(t));for(let s=0;s<40;s+=2)i[s>>1]>>4>=8&&(e[s]=e[s].toUpperCase()),(i[s>>1]&15)>=8&&(e[s+1]=e[s+1].toUpperCase());return"0x"+e.join("")}const B=9007199254740991;function K(r){return Math.log10?Math.log10(r):Math.log(r)/Math.LN10}const b={};for(let r=0;r<10;r++)b[String(r)]=String(r);for(let r=0;r<26;r++)b[String.fromCharCode(65+r)]=String(10+r);const x=Math.floor(K(B));function Q(r){r=r.toUpperCase(),r=r.substring(4)+r.substring(0,2)+"00";let e=r.split("").map(i=>b[i]).join("");for(;e.length>=x;){let i=e.substring(0,x);e=parseInt(i,10)%97+e.substring(i.length)}let t=String(98-parseInt(e,10)%97);for(;t.length<2;)t="0"+t;return t}function y(r){let e=null;if(typeof r!="string"&&E.throwArgumentError("invalid address","address",r),r.match(/^(0x)?[0-9a-fA-F]{40}$/))r.substring(0,2)!=="0x"&&(r="0x"+r),e=L(r),r.match(/([A-F].*[a-f])|([a-f].*[A-F])/)&&e!==r&&E.throwArgumentError("bad address checksum","address",r);else if(r.match(/^XE[0-9]{2}[0-9A-Za-z]{30,31}$/)){for(r.substring(2,4)!==Q(r)&&E.throwArgumentError("bad icap checksum","address",r),e=G(r.substring(4));e.length<40;)e="0"+e;e=L("0x"+e)}else E.throwArgumentError("invalid address","address",r);return e}function Y(r){let e=null;try{e=y(r.from)}catch{E.throwArgumentError("missing from address","transaction",r)}const t=j(T(g.from(r.nonce).toHexString()));return y($(U(q([e,t])),12))}const ee="contracts/5.5.0";var v=globalThis&&globalThis.__awaiter||function(r,e,t,i){function s(u){return u instanceof t?u:new t(function(n){n(u)})}return new(t||(t=Promise))(function(u,n){function o(d){try{c(i.next(d))}catch(p){n(p)}}function a(d){try{c(i.throw(d))}catch(p){n(p)}}function c(d){d.done?u(d.value):s(d.value).then(o,a)}c((i=i.apply(r,e||[])).next())})};const h=new f(ee);function A(r,e){return v(this,void 0,void 0,function*(){const t=yield e;typeof t!="string"&&h.throwArgumentError("invalid address or ENS name","name",t);try{return y(t)}catch{}r||h.throwError("a provider or signer is needed to resolve ENS names",f.errors.UNSUPPORTED_OPERATION,{operation:"resolveName"});const i=yield r.resolveName(t);return i==null&&h.throwArgumentError("resolver or addr is not configured for ENS name","name",t),i})}function w(r,e,t){return v(this,void 0,void 0,function*(){return Array.isArray(t)?yield Promise.all(t.map((i,s)=>w(r,Array.isArray(e)?e[s]:e[i.name],i))):t.type==="address"?yield A(r,e):t.type==="tuple"?yield w(r,e,t.components):t.baseType==="array"?Array.isArray(e)?yield Promise.all(e.map(i=>w(r,i,t.arrayChildren))):Promise.reject(h.makeError("invalid value for array",f.errors.INVALID_ARGUMENT,{argument:"value",value:e})):e})}function R(r,e,t){return v(this,void 0,void 0,function*(){let i={};t.length===e.inputs.length+1&&typeof t[t.length-1]=="object"&&(i=m(t.pop())),h.checkArgumentCount(t.length,e.inputs.length,"passed to contract"),r.signer?i.from?i.from=P({override:A(r.signer,i.from),signer:r.signer.getAddress()}).then(c=>v(this,void 0,void 0,function*(){return y(c.signer)!==c.override&&h.throwError("Contract with a Signer cannot override from",f.errors.UNSUPPORTED_OPERATION,{operation:"overrides.from"}),c.override})):i.from=r.signer.getAddress():i.from&&(i.from=A(r.provider,i.from));const s=yield P({args:w(r.signer||r.provider,t,e.inputs),address:r.resolvedAddress,overrides:P(i)||{}}),u=r.interface.encodeFunctionData(e,s.args),n={data:u,to:s.address},o=s.overrides;if(o.nonce!=null&&(n.nonce=g.from(o.nonce).toNumber()),o.gasLimit!=null&&(n.gasLimit=g.from(o.gasLimit)),o.gasPrice!=null&&(n.gasPrice=g.from(o.gasPrice)),o.maxFeePerGas!=null&&(n.maxFeePerGas=g.from(o.maxFeePerGas)),o.maxPriorityFeePerGas!=null&&(n.maxPriorityFeePerGas=g.from(o.maxPriorityFeePerGas)),o.from!=null&&(n.from=o.from),o.type!=null&&(n.type=o.type),o.accessList!=null&&(n.accessList=J(o.accessList)),n.gasLimit==null&&e.gas!=null){let c=21e3;const d=T(u);for(let p=0;p<d.length;p++)c+=4,d[p]&&(c+=64);n.gasLimit=g.from(e.gas).add(c)}if(o.value){const c=g.from(o.value);!c.isZero()&&!e.payable&&h.throwError("non-payable method cannot override value",f.errors.UNSUPPORTED_OPERATION,{operation:"overrides.value",value:i.value}),n.value=c}o.customData&&(n.customData=m(o.customData)),delete i.nonce,delete i.gasLimit,delete i.gasPrice,delete i.from,delete i.value,delete i.type,delete i.accessList,delete i.maxFeePerGas,delete i.maxPriorityFeePerGas,delete i.customData;const a=Object.keys(i).filter(c=>i[c]!=null);return a.length&&h.throwError(`cannot override ${a.map(c=>JSON.stringify(c)).join(",")}`,f.errors.UNSUPPORTED_OPERATION,{operation:"overrides",overrides:a}),n})}function te(r,e){return function(...t){return R(r,e,t)}}function re(r,e){const t=r.signer||r.provider;return function(...i){return v(this,void 0,void 0,function*(){t||h.throwError("estimate require a provider or signer",f.errors.UNSUPPORTED_OPERATION,{operation:"estimateGas"});const s=yield R(r,e,i);return yield t.estimateGas(s)})}}function ie(r,e){const t=e.wait.bind(e);e.wait=i=>t(i).then(s=>(s.events=s.logs.map(u=>{let n=D(u),o=null;try{o=r.interface.parseLog(u)}catch{}return o&&(n.args=o.args,n.decode=(a,c)=>r.interface.decodeEventLog(o.eventFragment,a,c),n.event=o.name,n.eventSignature=o.signature),n.removeListener=()=>r.provider,n.getBlock=()=>r.provider.getBlock(s.blockHash),n.getTransaction=()=>r.provider.getTransaction(s.transactionHash),n.getTransactionReceipt=()=>Promise.resolve(s),n}),s))}function I(r,e,t){const i=r.signer||r.provider;return function(...s){return v(this,void 0,void 0,function*(){let u;if(s.length===e.inputs.length+1&&typeof s[s.length-1]=="object"){const a=m(s.pop());a.blockTag!=null&&(u=yield a.blockTag),delete a.blockTag,s.push(a)}r.deployTransaction!=null&&(yield r._deployed(u));const n=yield R(r,e,s),o=yield i.call(n,u);try{let a=r.interface.decodeFunctionResult(e,o);return t&&e.outputs.length===1&&(a=a[0]),a}catch(a){throw a.code===f.errors.CALL_EXCEPTION&&(a.address=r.address,a.args=s,a.transaction=n),a}})}}function ne(r,e){return function(...t){return v(this,void 0,void 0,function*(){r.signer||h.throwError("sending a transaction requires a signer",f.errors.UNSUPPORTED_OPERATION,{operation:"sendTransaction"}),r.deployTransaction!=null&&(yield r._deployed());const i=yield R(r,e,t),s=yield r.signer.sendTransaction(i);return ie(r,s),s})}}function C(r,e,t){return e.constant?I(r,e,t):ne(r,e)}function F(r){return r.address&&(r.topics==null||r.topics.length===0)?"*":(r.address||"*")+"@"+(r.topics?r.topics.map(e=>Array.isArray(e)?e.join("|"):e).join(":"):"")}class _{constructor(e,t){l(this,"tag",e),l(this,"filter",t),this._listeners=[]}addListener(e,t){this._listeners.push({listener:e,once:t})}removeListener(e){let t=!1;this._listeners=this._listeners.filter(i=>t||i.listener!==e?!0:(t=!0,!1))}removeAllListeners(){this._listeners=[]}listeners(){return this._listeners.map(e=>e.listener)}listenerCount(){return this._listeners.length}run(e){const t=this.listenerCount();return this._listeners=this._listeners.filter(i=>{const s=e.slice();return setTimeout(()=>{i.listener.apply(this,s)},0),!i.once}),t}prepareEvent(e){}getEmit(e){return[e]}}class se extends _{constructor(){super("error",null)}}class O extends _{constructor(e,t,i,s){const u={address:e};let n=t.getEventTopic(i);s?(n!==s[0]&&h.throwArgumentError("topic mismatch","topics",s),u.topics=s.slice()):u.topics=[n],super(F(u),u),l(this,"address",e),l(this,"interface",t),l(this,"fragment",i)}prepareEvent(e){super.prepareEvent(e),e.event=this.fragment.name,e.eventSignature=this.fragment.format(),e.decode=(t,i)=>this.interface.decodeEventLog(this.fragment,t,i);try{e.args=this.interface.decodeEventLog(this.fragment,e.data,e.topics)}catch(t){e.args=null,e.decodeError=t}}getEmit(e){const t=Z(e.args);if(t.length)throw t[0].error;const i=(e.args||[]).slice();return i.push(e),i}}class k extends _{constructor(e,t){super("*",{address:e}),l(this,"address",e),l(this,"interface",t)}prepareEvent(e){super.prepareEvent(e);try{const t=this.interface.parseLog(e);e.event=t.name,e.eventSignature=t.signature,e.decode=(i,s)=>this.interface.decodeEventLog(t.eventFragment,i,s),e.args=t.args}catch{}}}class oe{constructor(e,t,i){h.checkNew(new.target,ae),l(this,"interface",z(new.target,"getInterface")(t)),i==null?(l(this,"provider",null),l(this,"signer",null)):H.isSigner(i)?(l(this,"provider",i.provider||null),l(this,"signer",i)):M.isProvider(i)?(l(this,"provider",i),l(this,"signer",null)):h.throwArgumentError("invalid signer or provider","signerOrProvider",i),l(this,"callStatic",{}),l(this,"estimateGas",{}),l(this,"functions",{}),l(this,"populateTransaction",{}),l(this,"filters",{});{const n={};Object.keys(this.interface.events).forEach(o=>{const a=this.interface.events[o];l(this.filters,o,(...c)=>({address:this.address,topics:this.interface.encodeFilterTopics(a,c)})),n[a.name]||(n[a.name]=[]),n[a.name].push(o)}),Object.keys(n).forEach(o=>{const a=n[o];a.length===1?l(this.filters,o,this.filters[a[0]]):h.warn(`Duplicate definition of ${o} (${a.join(", ")})`)})}if(l(this,"_runningEvents",{}),l(this,"_wrappedEmits",{}),e==null&&h.throwArgumentError("invalid contract address or ENS name","addressOrName",e),l(this,"address",e),this.provider)l(this,"resolvedAddress",A(this.provider,e));else try{l(this,"resolvedAddress",Promise.resolve(y(e)))}catch{h.throwError("provider is required to use ENS name as contract address",f.errors.UNSUPPORTED_OPERATION,{operation:"new Contract"})}const s={},u={};Object.keys(this.interface.functions).forEach(n=>{const o=this.interface.functions[n];if(u[n]){h.warn(`Duplicate ABI entry for ${JSON.stringify(n)}`);return}u[n]=!0;{const a=o.name;s[`%${a}`]||(s[`%${a}`]=[]),s[`%${a}`].push(n)}this[n]==null&&l(this,n,C(this,o,!0)),this.functions[n]==null&&l(this.functions,n,C(this,o,!1)),this.callStatic[n]==null&&l(this.callStatic,n,I(this,o,!0)),this.populateTransaction[n]==null&&l(this.populateTransaction,n,te(this,o)),this.estimateGas[n]==null&&l(this.estimateGas,n,re(this,o))}),Object.keys(s).forEach(n=>{const o=s[n];if(o.length>1)return;n=n.substring(1);const a=o[0];try{this[n]==null&&l(this,n,this[a])}catch{}this.functions[n]==null&&l(this.functions,n,this.functions[a]),this.callStatic[n]==null&&l(this.callStatic,n,this.callStatic[a]),this.populateTransaction[n]==null&&l(this.populateTransaction,n,this.populateTransaction[a]),this.estimateGas[n]==null&&l(this.estimateGas,n,this.estimateGas[a])})}static getContractAddress(e){return Y(e)}static getInterface(e){return S.isInterface(e)?e:new S(e)}deployed(){return this._deployed()}_deployed(e){return this._deployedPromise||(this.deployTransaction?this._deployedPromise=this.deployTransaction.wait().then(()=>this):this._deployedPromise=this.provider.getCode(this.address,e).then(t=>(t==="0x"&&h.throwError("contract not deployed",f.errors.UNSUPPORTED_OPERATION,{contractAddress:this.address,operation:"getDeployed"}),this))),this._deployedPromise}fallback(e){this.signer||h.throwError("sending a transactions require a signer",f.errors.UNSUPPORTED_OPERATION,{operation:"sendTransaction(fallback)"});const t=m(e||{});return["from","to"].forEach(function(i){t[i]!=null&&h.throwError("cannot override "+i,f.errors.UNSUPPORTED_OPERATION,{operation:i})}),t.to=this.resolvedAddress,this.deployed().then(()=>this.signer.sendTransaction(t))}connect(e){typeof e=="string"&&(e=new V(e,this.provider));const t=new this.constructor(this.address,this.interface,e);return this.deployTransaction&&l(t,"deployTransaction",this.deployTransaction),t}attach(e){return new this.constructor(e,this.interface,this.signer||this.provider)}static isIndexed(e){return X.isIndexed(e)}_normalizeRunningEvent(e){return this._runningEvents[e.tag]?this._runningEvents[e.tag]:e}_getRunningEvent(e){if(typeof e=="string"){if(e==="error")return this._normalizeRunningEvent(new se);if(e==="event")return this._normalizeRunningEvent(new _("event",null));if(e==="*")return this._normalizeRunningEvent(new k(this.address,this.interface));const t=this.interface.getEvent(e);return this._normalizeRunningEvent(new O(this.address,this.interface,t))}if(e.topics&&e.topics.length>0){try{const i=e.topics[0];if(typeof i!="string")throw new Error("invalid topic");const s=this.interface.getEvent(i);return this._normalizeRunningEvent(new O(this.address,this.interface,s,e.topics))}catch{}const t={address:this.address,topics:e.topics};return this._normalizeRunningEvent(new _(F(t),t))}return this._normalizeRunningEvent(new k(this.address,this.interface))}_checkRunningEvents(e){if(e.listenerCount()===0){delete this._runningEvents[e.tag];const t=this._wrappedEmits[e.tag];t&&e.filter&&(this.provider.off(e.filter,t),delete this._wrappedEmits[e.tag])}}_wrapEvent(e,t,i){const s=D(t);return s.removeListener=()=>{i&&(e.removeListener(i),this._checkRunningEvents(e))},s.getBlock=()=>this.provider.getBlock(t.blockHash),s.getTransaction=()=>this.provider.getTransaction(t.transactionHash),s.getTransactionReceipt=()=>this.provider.getTransactionReceipt(t.transactionHash),e.prepareEvent(s),s}_addEventListener(e,t,i){if(this.provider||h.throwError("events require a provider or a signer with a provider",f.errors.UNSUPPORTED_OPERATION,{operation:"once"}),e.addListener(t,i),this._runningEvents[e.tag]=e,!this._wrappedEmits[e.tag]){const s=u=>{let n=this._wrapEvent(e,u,t);if(n.decodeError==null)try{const o=e.getEmit(n);this.emit(e.filter,...o)}catch(o){n.decodeError=o.error}e.filter!=null&&this.emit("event",n),n.decodeError!=null&&this.emit("error",n.decodeError,n)};this._wrappedEmits[e.tag]=s,e.filter!=null&&this.provider.on(e.filter,s)}}queryFilter(e,t,i){const s=this._getRunningEvent(e),u=m(s.filter);return typeof t=="string"&&N(t,32)?(i!=null&&h.throwArgumentError("cannot specify toBlock with blockhash","toBlock",i),u.blockHash=t):(u.fromBlock=t??0,u.toBlock=i??"latest"),this.provider.getLogs(u).then(n=>n.map(o=>this._wrapEvent(s,o,null)))}on(e,t){return this._addEventListener(this._getRunningEvent(e),t,!1),this}once(e,t){return this._addEventListener(this._getRunningEvent(e),t,!0),this}emit(e,...t){if(!this.provider)return!1;const i=this._getRunningEvent(e),s=i.run(t)>0;return this._checkRunningEvents(i),s}listenerCount(e){return this.provider?e==null?Object.keys(this._runningEvents).reduce((t,i)=>t+this._runningEvents[i].listenerCount(),0):this._getRunningEvent(e).listenerCount():0}listeners(e){if(!this.provider)return[];if(e==null){const t=[];for(let i in this._runningEvents)this._runningEvents[i].listeners().forEach(s=>{t.push(s)});return t}return this._getRunningEvent(e).listeners()}removeAllListeners(e){if(!this.provider)return this;if(e==null){for(const i in this._runningEvents){const s=this._runningEvents[i];s.removeAllListeners(),this._checkRunningEvents(s)}return this}const t=this._getRunningEvent(e);return t.removeAllListeners(),this._checkRunningEvents(t),this}off(e,t){if(!this.provider)return this;const i=this._getRunningEvent(e);return i.removeListener(t),this._checkRunningEvents(i),this}removeListener(e,t){return this.off(e,t)}}class ae extends oe{}export{ae as C};
