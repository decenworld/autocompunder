import{m as ct,r as c,ax as Fn,ay as _n,az as be,aA as is,aB as nt,aC as rs,n as T,y as k,o as p,ae as $,p as z,aD as q,q as o,F as B,aE as Y,U as R,aq as Wt,ar as Ft,aF as Gn,as as Ve,aG as _t,af as j,z as m,C as ls,h as I,J as F,E as dt,aH as Le,aI as ve,aJ as xe,aK as cs,aL as Ke,aM as ds,aN as ut,aO as us,v as M,aP as ps,aQ as ms,aR as hs,aS as fs,Z as Se,R as ye,aT as gs,T as V,aU as bs,aV as pt,aW as Hn,aX as ys,aY as vs,aZ as Un,a_ as xs,a$ as ks,b0 as Cs,b1 as jn,b2 as Ts,b3 as ws,b4 as Ss,b5 as Ns,b6 as Is,b7 as zn,b8 as Gt,b9 as ee,ba as ce,bb as H,ak as Ne,bc as Ht,bd as X,av as As,be as Ut,bf as Ie,bg as Ae,bh as Bs,bi as Ds,bj as Ls,bk as Rs,bl as _,bm as jt,aa as de,bn as ue,bo as yn,bp as qn,bq as Kn,a8 as $s,br as mt,bs as Qe,bt as We,bu as me,bv as zt,al as Ms,bw as Es,bx as ht,by as Qn,bz as Ps,bA as Me,bB as Os,bC as Vs,bD as Ws,bE as qt,bF as Fs,bG as Zn,bH as _s,bI as Gs,bJ as Hs,bK as Us,bL as js,bM as zs,bN as qs,bO as Ks,bP as Yn,bQ as Xn,bR as Jn,bS as Qs,bT as Zs,am as Ys,bU as Xs,bV as Js,bW as ea,bX as eo,bY as to,bZ as no,b_ as le,b$ as ao,ai as re,c0 as so,c1 as oo,c2 as io,c3 as ro,c4 as lo,c5 as co,c6 as ta,c7 as Kt,c8 as je,c9 as Qt,ca as na,ac as Ze,cb as aa,cc as sa,cd as uo,W as po,ce as Bt,cf as te,cg as ne,ch as Ee,ci as oa,cj as mo,ck as ho,cl as fo,cm as go,cn as bo,co as ft,cp as at,a5 as oe,cq as ia,cr as st,cs as yo,ct as vo,cu as xo,cv as ko,cw as Co,cx as To,cy as wo,Y as se,ao as ra,ap as la,ad as gt,ag as Zt,ah as Yt,cz as So,aj as ca,O as Xt,cA as No,cB as yt,cC as Io,S as Ao,an as Bo,cD as Do,cE as Lo,cF as da,cG as ua,cH as Ro,M as $o,P as Mo,cI as Eo,cJ as Po,cK as Oo,cL as Vo,cM as Wo,cN as Fo,cO as _o,cP as Go,cQ as Ho,cR as Uo,a7 as jo,cS as zo,cT as qo,cU as Ko,a4 as Qo,Q as vn}from"./index-fc282d72.js";import{a as ke,b as Be,c as Ye,i as ae,d as he,j as Zo,k as Yo,l as Xo,L as pa,g as xn,e as vt,h as Jo,G as Xe,m as ei}from"./tvl-3f4cb4a8.js";import{a as ze,T as Jt,I as qe,b as ti,p as ni,V as ai}from"./saved-vaults-7a1d42f0.js";import{S as si}from"./StatLoader-1ef177e9.js";import{H as ma,P as oi,T as ii,B as en,I as tn}from"./BasicTooltipContent-d7ff8b0d.js";import{d as ha,g as fa,C as ga,T as Dt,X as ba,Y as ya,a as Z,i as ri,f as va,b as li,m as ci,R as di,c as ui,e as pi,G as mi,P as hi}from"./PnLGraph-bfa90c37.js";import{g as fi,A as U,s as gi,D as ot}from"./AssetsImage-edf90c9f.js";import{u as bi,i as Lt,f as _e,L as Ge,m as Je,a as $e,b as Rt,C as xt,A as yi,c as Re,d as Ce,_ as vi,e as kn,g as xi,h as ki,G as Ci,j as Ti,k as Cn,l as He,D as wi,n as Si,o as Ni,P as Ii,p as Ai,q as Bi,S as Di,r as Li,T as Ri,R as $i}from"./PieChart-e44cdf73.js";import{L as nn,S as Mi,C as xa,a as ka,b as an}from"./Scrollable-abd6d4e8.js";import{I as Pe}from"./Search-d97f540f.js";import{u as Ca}from"./useAsync-d6fd0073.js";import{S as Ei,i as Ta}from"./arrowDown-9c2734bb.js";import{d as Pi}from"./debounce-a79fd1ac.js";import"./react-content-loader.es-1c9eebd1.js";import"./index-0e0e7991.js";import"./utils-e6a1b5bb.js";const Oi=ct(c.createElement("path",{d:"M17 3H7c-1.1 0-1.99.9-1.99 2L5 21l7-3 7 3V5c0-1.1-.9-2-2-2z"})),Vi=ct(c.createElement("path",{d:"M17 3H7c-1.1 0-1.99.9-1.99 2L5 21l7-3 7 3V5c0-1.1-.9-2-2-2zm0 15l-5-2.18L7 18V5h10v13z"})),sn=ct(c.createElement("path",{d:"M12 8l-6 6 1.41 1.41L12 10.83l4.59 4.58L18 14z"})),Wi=ct(c.createElement("path",{d:"M17.65 6.35C16.2 4.9 14.21 4 12 4c-4.42 0-7.99 3.58-7.99 8s3.57 8 7.99 8c3.73 0 6.84-2.55 7.73-6h-2.08c-.82 2.33-3.04 4-5.65 4-3.31 0-6-2.69-6-6s2.69-6 6-6c1.66 0 3.14.69 4.22 1.78L13 11h7V4l-2.35 2.35z"}));function on(e,n){if(e==null)throw new TypeError("assign requires that input parameter not be null or undefined");for(var t in n)Object.prototype.hasOwnProperty.call(n,t)&&(e[t]=n[t]);return e}function wa(e){return on({},e)}var Tn=1440,Fi=2520,kt=43200,_i=86400;function Gi(e,n,t){var a,s;Fn(2,arguments);var i=fa(),r=(a=(s=t==null?void 0:t.locale)!==null&&s!==void 0?s:i.locale)!==null&&a!==void 0?a:ha;if(!r.formatDistance)throw new RangeError("locale must contain formatDistance property");var l=_n(e,n);if(isNaN(l))throw new RangeError("Invalid time value");var d=on(wa(t),{addSuffix:!!(t!=null&&t.addSuffix),comparison:l}),u,h;l>0?(u=be(n),h=be(e)):(u=be(e),h=be(n));var f=is(h,u),b=(nt(h)-nt(u))/1e3,g=Math.round((f-b)/60),C;if(g<2)return t!=null&&t.includeSeconds?f<5?r.formatDistance("lessThanXSeconds",5,d):f<10?r.formatDistance("lessThanXSeconds",10,d):f<20?r.formatDistance("lessThanXSeconds",20,d):f<40?r.formatDistance("halfAMinute",0,d):f<60?r.formatDistance("lessThanXMinutes",1,d):r.formatDistance("xMinutes",1,d):g===0?r.formatDistance("lessThanXMinutes",1,d):r.formatDistance("xMinutes",g,d);if(g<45)return r.formatDistance("xMinutes",g,d);if(g<90)return r.formatDistance("aboutXHours",1,d);if(g<Tn){var v=Math.round(g/60);return r.formatDistance("aboutXHours",v,d)}else{if(g<Fi)return r.formatDistance("xDays",1,d);if(g<kt){var y=Math.round(g/Tn);return r.formatDistance("xDays",y,d)}else if(g<_i)return C=Math.round(g/kt),r.formatDistance("aboutXMonths",C,d)}if(C=rs(h,u),C<12){var x=Math.round(g/kt);return r.formatDistance("xMonths",x,d)}else{var N=C%12,w=Math.floor(C/12);return N<3?r.formatDistance("aboutXYears",w,d):N<9?r.formatDistance("overXYears",w,d):r.formatDistance("almostXYears",w+1,d)}}var wn=1e3*60,it=60*24,Sn=it*30,Nn=it*365;function Hi(e,n,t){var a,s,i;Fn(2,arguments);var r=fa(),l=(a=(s=t==null?void 0:t.locale)!==null&&s!==void 0?s:r.locale)!==null&&a!==void 0?a:ha;if(!l.formatDistance)throw new RangeError("locale must contain localize.formatDistance property");var d=_n(e,n);if(isNaN(d))throw new RangeError("Invalid time value");var u=on(wa(t),{addSuffix:!!(t!=null&&t.addSuffix),comparison:d}),h,f;d>0?(h=be(n),f=be(e)):(h=be(e),f=be(n));var b=String((i=t==null?void 0:t.roundingMethod)!==null&&i!==void 0?i:"round"),g;if(b==="floor")g=Math.floor;else if(b==="ceil")g=Math.ceil;else if(b==="round")g=Math.round;else throw new RangeError("roundingMethod must be 'floor', 'ceil' or 'round'");var C=f.getTime()-h.getTime(),v=C/wn,y=nt(f)-nt(h),x=(C-y)/wn,N=t==null?void 0:t.unit,w;if(N?w=String(N):v<1?w="second":v<60?w="minute":v<it?w="hour":x<Sn?w="day":x<Nn?w="month":w="year",w==="second"){var P=g(C/1e3);return l.formatDistance("xSeconds",P,u)}else if(w==="minute"){var E=g(v);return l.formatDistance("xMinutes",E,u)}else if(w==="hour"){var S=g(v/60);return l.formatDistance("xHours",S,u)}else if(w==="day"){var A=g(x/it);return l.formatDistance("xDays",A,u)}else if(w==="month"){var O=g(x/Sn);return O===12&&N!=="month"?l.formatDistance("xYears",1,u):l.formatDistance("xMonths",O,u)}else if(w==="year"){var W=g(x/Nn);return l.formatDistance("xYears",W,u)}throw new RangeError("unit must be 'second', 'minute', 'hour', 'day', 'month' or 'year'")}const Ui=e=>({page:{display:"flex",flexDirection:"column",gap:"24px",paddingTop:"32px",paddingBottom:"32px"},contentContainer:{},contentColumns:{display:"grid",gridTemplateColumns:"100%",rowGap:"24px",columnGap:"24px",[e.breakpoints.up("md")]:{display:"grid",gridTemplateColumns:"minmax(0,666fr) minmax(0,333fr)"}},columnActions:{width:"100%",display:"flex",flexDirection:"column",rowGap:"24px","& > :first-child":{marginTop:0},[e.breakpoints.up("md")]:{order:1}},columnInfo:{width:"100%",display:"flex",flexDirection:"column",rowGap:"24px",[e.breakpoints.up("md")]:{marginTop:0}}}),Sa=e=>({header:{display:"flex",[e.breakpoints.down("sm")]:{flexDirection:"column",rowGap:"16px"}},cardActions:{display:"flex",alignItems:"center",flexWrap:"wrap",rowGap:"8px",columnGap:"8px",marginLeft:"auto",[e.breakpoints.down("sm")]:{marginLeft:"0"}},cardAction:{},text:{margin:"0 0 32px 0",whiteSpace:"pre-line",color:e.palette.text.secondary,"&:last-child":{marginBottom:0}},apysContainer:{marginBottom:"32px"},apyTitle:{...e.typography.h3,color:e.palette.text.secondary,marginBottom:"8px"},apys:{display:"flex",flexWrap:"wrap",gap:"12px 32px"},apy:{},apyLabel:{...e.typography["subline-sm"],color:e.palette.text.disabled},apyValue:{...e.typography["body-lg-med"],color:e.palette.text.secondary},audits:{display:"flex",columnGap:"56px",rowGap:"24px"},audit:{display:"flex"},auditIcon:{marginRight:"8px"},auditLabel:{...e.typography["body-lg-med"],color:e.palette.text.secondary},detailsLink:{color:e.palette.text.secondary}}),In="/assets/shield-6cf7e64a.svg",ji=T(Sa),zi=c.memo(function({vaultId:n}){const{t,i18n:a}=k(),s=p(x=>$(x,n)),i=p(x=>z(x,s.chainId)),r=p(x=>ze(x,s.platformId)),l=p(x=>q(x,s.chainId,s.depositTokenAddress)),d=p(x=>l.providerId?ze(x,l.providerId):null),u=r.name,h=d?d.name:null,f=s.assetIds,b=l.symbol,g=i.name,C=i.walletSettings.nativeCurrency.symbol;let v=`StrategyDescription-${s.strategyTypeId}`;a.exists(v,{ns:"risks"})||(v="StrategyDescription-default");const y=c.useMemo(()=>{const x={vaultPlatform:u,depositToken:b,depositTokenProvider:h,chain:g,nativeToken:C,ns:"risks"};for(const N in f)x[`asset${N}`]=f[N];return x},[u,f,b,h,g,C]);return o(B,{children:s.strategyTypeId==="glp-gmx"?o(Y,{t,i18nKey:v,namespace:"risks",values:y,components:{details:o(qi,{})}}):t(v,y)})}),qi=c.memo(function(){const n=ji(),{t}=k();return o("a",{className:n.detailsLink,target:"__blank",rel:"noopener",href:"https://beefy.com/articles/earn-glp-with-beefy-s-new-glp-strategy-and-vaults/",children:t("Details-Here")})}),Ki=T(Sa);function Qi({vaultId:e}){const n=Ki(),{t}=k(),a=p(f=>$(f,e)),s=p(f=>z(f,a.chainId)),i=p(f=>Wt(f,e)),r=Ft(i,o(si,{})),l=p(f=>Gn(f,e)),d=p(f=>Ve(f,e)),u=a.risks.includes("AUDIT"),h=_t(a);return j(a)?o(B,{}):m(ke,{children:[m(Be,{className:n.header,children:[o("div",{children:o(Ye,{title:t("Vault-Strategy")})}),m("div",{className:n.cardActions,children:[o("div",{className:n.cardAction,children:o(ae,{href:`${s.explorerUrl}/address/${l}`,text:t("Strat-Address")})}),o("div",{className:n.cardAction,children:o(ae,{href:`${s.explorerUrl}/address/${a.earnContractAddress}`,text:t("Strat-AddressVault")})})]})]}),m(he,{children:[o("div",{className:n.text,children:o(zi,{vaultId:e})}),h?m("div",{className:n.apysContainer,children:[o("div",{className:n.apyTitle,children:t("Vault-ApyBreakdown")}),m("div",{className:n.apys,children:[m("div",{className:n.apy,children:[o("div",{className:n.apyLabel,children:t("Vault-ApyTotal")}),o("div",{className:n.apyValue,children:d?r.boostedTotalApy:r.totalApy})]}),i.vaultApr&&m("div",{className:n.apy,children:[o("div",{className:n.apyLabel,children:t("Vault-VaultApr")}),o("div",{className:n.apyValue,children:r.vaultApr})]}),i.tradingApr>0&&m("div",{className:n.apy,children:[o("div",{className:n.apyLabel,children:t("Vault-AprTrading")}),o("div",{className:n.apyValue,children:r.tradingApr})]}),i.liquidStakingApr>0&&m("div",{className:n.apy,children:[o("div",{className:n.apyLabel,children:t("Vault-AprLiquidStaking")}),o("div",{className:n.apyValue,children:r.liquidStakingApr})]}),i.composablePoolApr>0&&m("div",{className:n.apy,children:[o("div",{className:n.apyLabel,children:t("Vault-AprComposablePool")}),o("div",{className:n.apyValue,children:r.composablePoolApr})]}),d&&m("div",{className:n.apy,children:[o("div",{className:n.apyLabel,children:t("Vault-AprBoost")}),o("div",{className:n.apyValue,children:r.boostApr})]})]})]}):null,m("div",{className:n.audits,children:[u?m("div",{className:n.audit,children:[o("img",{alt:"Audited",src:In,className:n.auditIcon}),o("div",{className:n.auditLabel,children:t("Vault-Auditd")})]}):null,m("div",{className:n.audit,children:[o("img",{alt:"Community Audited",src:In,className:n.auditIcon}),o("div",{className:n.auditLabel,children:t("Vault-AuditdCommunity")})]})]})]})]})}const Zi=R.memo(Qi),Yi=e=>({popover:{padding:"16px",background:e.palette.type==="dark"?"#FFF":"#272B4A",border:e.palette.type==="dark"?"2px solid #E5E5E5":"2px solid #A69885",filter:"drop-shadow(0px 0px 40px #0A0F2B)",borderRadius:"10px",margin:"15px auto",maxWidth:"350px",minWidth:"250px",textAlign:"left",color:e.palette.type==="dark"?"#565B81":"#A69885"},trigger:{display:"flex",alignItems:"center",background:e.palette.type==="dark"?" #272B4A":"#6E675D",color:"#fff","&:hover":{cursor:"pointer"}},dot:{display:"flex",alignItems:"center",justifyContent:"center",color:"#8585A6","& .MuiSvgIcon-root":{fontSize:"inherit"},"&:hover":{cursor:"pointer"}},title:{...e.typography["body-lg-med"],color:e.palette.type==="dark"?"#272B4A":"#A69885",marginBottom:"8px"},size_sm:{width:"18px",height:"18px"},size_md:{width:"20px",height:"20px"},size_lg:{width:"24px",height:"24px"},arrow:{position:"absolute","&:before":{position:"absolute",content:'""',height:0,width:0,zIndex:15,borderStyle:"solid"},"&:after":{position:"absolute",content:'""',height:0,width:0,zIndex:14,borderStyle:"solid"}},popper:{zIndex:10,'&[x-placement*="end"] .popover':{marginRight:-30},'&[x-placement*="start"] .popover':{marginLeft:-30},'&[x-placement*="top"] span':{bottom:16,width:0,height:0,"&:before":{marginTop:"-4px",borderWidth:"12px",borderColor:e.palette.type==="dark"?"#FFF transparent transparent transparent":"transparent transparent transparent transparent"},"&:after":{borderWidth:"12px",borderColor:e.palette.type==="dark"?"transparent transparent transparent transparent":"transparent transparent #A69885 transparent"}},'&[x-placement*="bottom"] span':{top:-8,width:0,height:0,"&:before":{top:4,borderWidth:"12px",borderColor:e.palette.type==="dark"?"transparent transparent #FFF transparent":"transparent transparent transparent transparent"},"&:after":{borderWidth:"12px",borderColor:e.palette.type==="dark"?"transparent transparent transparent transparent":"transparent transparent #A69885 transparent"}},'&[x-placement*="end"] span':{"&:before":{right:"-12px"},"&:after":{right:"-12px"}},'&[x-placement*="start"] span':{"&:before":{left:"-12px"},"&:after":{left:"-12px"}}}}),Xi=T(Yi),Ji=({title:e,content:n,children:t,size:a="sm",placement:s="top-end"})=>{const i=Xi(),[r,l]=c.useState(null),[d,u]=c.useState(!1),[h,f]=c.useState(null),[b,g]=R.useState(s),C=y=>{l(y.currentTarget),u(x=>!x),g(s)};return o(ls,{onClickAway:()=>u(!1),children:m("div",{onMouseEnter:C,onMouseLeave:()=>{u(!1)},children:[o("div",{onClick:C,ref:l,className:I(i.dot,i[`size_${a}`]),children:o(ma,{})}),m(oi,{id:e,open:d,anchorEl:r,placement:b,modifiers:{arrow:{enabled:!0,element:h}},className:i.popper,children:[o("span",{className:i.arrow,ref:f}),m("div",{className:[i.popover,"popover"].join(" "),children:[e&&o("div",{className:i.title,children:e}),n?o("div",{children:n}):o(B,{children:t})]})]})]})})},Na=c.memo(Ji),er=e=>({header:{display:"flex"},riskList:{marginBottom:"32px"},riskRow:{display:"flex",flexDirection:"row",justifyContent:"space-between",marginBottom:"16px","&:last-child":{marginBottom:0}},risk:{...e.typography["body-lg-med"],color:e.palette.text.secondary,marginRight:8},riskCategory:{color:e.palette.text.disabled},infoContainer:{display:"flex",alignItems:"flex-start"},moreInfoContainer:{display:"flex",alignItems:"center"},notes:{marginTop:e.spacing(2),"& p":{margin:"0 0 12px 0",color:e.palette.text.secondary},"& p:last-child":{marginBottom:0}},arrow:{marginTop:"5px",marginRight:"8px"},tooltipLabel:{display:"flex",alignItems:"center"},safetyLabel:{...e.typography.h2,color:e.palette.text.primary,marginRight:e.spacing(2)},tooltipHolder:{marginLeft:e.spacing(.5)},howItWorksContainer:{padding:16,backgroundColor:e.palette.background.vaults.defaultOutline},titleClassName:{...e.typography["body-lg-med"],color:e.palette.text.primary}}),tr="/assets/up-604594cf.svg",nr="/assets/down-231aee2e.svg",ar=e=>({container:{padding:24,borderRadius:"12px",backgroundColor:e.palette.background.paper},content:{padding:16},title:{display:"flex",padding:0,justifyContent:"space-between",backgroundColor:"transparent",borderColor:"transparent","&:Hover":{backgroundColor:"transparent",borderColor:"transparent"}},titleIcon:{fill:"#999CB3"}}),sr=T(ar),bt=c.memo(function({openByDefault:n=!1,children:t,containerClassName:a,titleClassName:s,title:i}){const[r,l]=c.useState(n),d=sr(),u=c.useCallback(()=>{l(h=>!h)},[]);return m("div",{className:I(a,d.container),children:[m(F,{fullWidth:!0,onClick:u,className:d.title,children:[o("div",{className:s,children:i}),r?o(sn,{className:d.titleIcon}):o(dt,{className:d.titleIcon})]}),o(ga,{in:r,timeout:"auto",children:t})]})}),or=T(er);function ir({vaultId:e}){const n=or(),{t}=k(),a=p(s=>$(s,e));return m(ke,{children:[o(Be,{className:n.header,children:o("div",{className:n.safetyLabel,children:t("Safety-Score1")})}),m(he,{children:[o("div",{className:n.riskList,children:a.risks.map(s=>o(c.Fragment,{children:Le[s]&&o("div",{className:n.riskRow,children:m("div",{className:n.infoContainer,children:[Le[s].score<=0?o("img",{alt:"Positive score",src:tr,className:n.arrow}):o("img",{alt:"Negative score",src:nr,className:n.arrow}),m("div",{children:[m("div",{className:n.moreInfoContainer,children:[o("div",{className:n.risk,children:t(Le[s].title,{ns:"risks"})}),o(Na,{title:t(Le[s].title,{ns:"risks"}),content:t(Le[s].explanation,{ns:"risks"})})]}),o("div",{className:n.riskCategory,children:t(Le[s].category,{ns:"risks"})})]})]})})},s))}),o(bt,{titleClassName:n.titleClassName,containerClassName:n.howItWorksContainer,title:t("How-It-Works"),children:m("div",{className:n.notes,children:[o("p",{children:t("Safety-HigherSafer")}),o("p",{children:t("Safety-BeefySecure")})]})})]})]})}const rr=R.memo(ir),lr=e=>({text:{color:e.palette.text.secondary,marginBottom:"24px"},boostedBy:{...e.typography.h2,color:"#DB8332",flexGrow:1,"& span":{color:e.palette.text.primary}},header:{display:"flex",flexWrap:"wrap",rowGap:"16px",padding:"24px",borderRadius:"12px 12px 0 0",backgroundColor:e.palette.background.default},socials:{display:"flex",columnGap:"8px",rowGap:"8px",flexWrap:"wrap"}}),cr=e=>({link:{display:"inline-flex",flexDirection:"row",justifyContent:"center",alignItems:"center",textDecoration:"none",color:e.palette.text.secondary,backgroundColor:e.palette.background.vaults.defaultOutline,padding:"2px 8px",borderRadius:"4px","&:hover":{color:e.palette.text.primary,backgroundColor:"#3F466D",transition:"color 0.1s"}},icon:{}}),dr=T(cr),Ct=({href:e,logo:n,id:t})=>{const a=dr();return o("a",{className:a.link,href:e,target:"_blank",rel:"noopener noreferrer",children:o("img",{alt:t,className:a.icon,src:n})})},ur="/assets/twitter-297a8137.svg",pr="/assets/telegram-485a99bc.svg",mr="/assets/discord-7bb0d871.svg",hr=e=>c.createElement("svg",{width:12,height:12,viewBox:"0 0 12 12",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},c.createElement("rect",{x:12,y:5.25,width:1.5,height:12,rx:.75,transform:"rotate(90 12 5.25)",fill:"#D0D0DA"}),c.createElement("rect",{x:5.25,width:1.5,height:12,rx:.75,fill:"#D0D0DA"})),fr=e=>({container:{display:"flex",flexWrap:"wrap",rowGap:"16px",borderRadius:"12px",backgroundColor:e.palette.background.vaults.defaultOutline,padding:"16px"},text:{...e.typography["body-lg-med"],color:e.palette.text.primary,marginLeft:"8px"},token:{display:"flex",alignItems:"center",flexGrow:1},buttons:{display:"flex",columnGap:"8px",rowGap:"8px",flexWrap:"wrap"},button:{...e.typography["body-lg"],padding:"2px 8px",borderRadius:"4px",backgroundColor:"#484F84",borderColor:"transparent",color:e.palette.text.secondary,"&:hover":{color:e.palette.text.primary,backgroundColor:"#3F466D",borderColor:"transparent",transition:"color 0.1s"}},icon:{marginLeft:"4px","&:hover":{fill:e.palette.text.primary}},linkButtonBg:{backgroundColor:"#484F84"}}),gr=T(fr),br=c.memo(function({token:n,chainId:t}){const{t:a}=k(),s=gr(),i=p(f=>z(f,t)),r=p(ve),l=p(f=>xe(f)===t),d=R.useCallback(async()=>{try{await window.ethereum.request({method:"wallet_watchAsset",params:{type:"ERC20",options:{address:n.address,symbol:n.symbol,decimals:n.decimals,image:window.location.origin+fi(n.id,t)}}})}catch{}},[n.address,n.decimals,n.symbol]),u=i.explorerUrl+"/address/"+n.address,h=r&&l;return m("div",{className:s.container,children:[m("div",{className:s.token,children:[o(U,{size:24,chainId:t,assetIds:[n.id]})," ",o("div",{className:s.text,children:a("Earn",{symbol:n.symbol})})]}),m("div",{className:s.buttons,children:[h&&m(F,{className:s.button,onClick:d,children:[a("Add-To-Wallet"),o(hr,{className:s.icon})]}),o(ae,{className:s.linkButtonBg,href:u,text:a("Explorer")})]})]})}),yr=T(lr),vr=({vaultId:e})=>{const n=yr(),{t}=k(),a=p(h=>cs(h,e)),s=p(h=>Ke(h,a[0])),i=p(h=>ds(h,e)),{text:r,social:l,website:d}=i,u=p(h=>ut(h,s.id));return m("div",{children:[m("div",{className:n.header,children:[m("div",{className:n.boostedBy,children:[t("Vault-BoostedBy"),o("span",{children:s.name})]}),m("div",{className:n.socials,children:[d&&o(ae,{href:d,text:t("Boost-PartnerLink-website")}),l.twitter&&o(Ct,{id:"twitter",logo:ur,href:l.twitter}),l.telegram&&o(Ct,{id:"telegram",logo:pr,href:l.telegram}),l.discord&&o(Ct,{id:"discord",logo:mr,href:l.discord})]})]}),m(he,{children:[o("div",{className:n.text,children:r}),o(br,{token:u,chainId:s.chainId})]})]})},xr=e=>({text:{margin:"0 0 32px 0",color:e.palette.text.secondary,"&:last-child":{marginBottom:0}},preTitle:{...e.typography["subline-lg"],color:"#8585A6"},header:{display:"flex",alignItems:"center",justifyContent:"space-between"}}),kr=T(xr),Cr=({vaultId:e})=>{const n=kr(),{t}=k(),a=p(r=>$(r,e)),s=p(r=>q(r,a.chainId,a.earnedTokenAddress)),i=p(r=>z(r,a.chainId));return m(ke,{children:[m(Be,{className:n.header,children:[o(Ye,{title:t("Gov-Pool")}),o(ae,{href:`${i.explorerUrl}/address/${a.earnContractAddress}`,text:t("Strat-PoolAddress")})]}),o(he,{children:o("p",{className:n.text,children:e==="beefy-beFTM-earnings"?t("beFTM-description"):e==="beefy-beJoe-earnings"?t("beJOE-description"):e==="beefy-beqi-earnings"?t("beQI-description"):e==="beefy-beopx-earnings"?t("beOPX-description"):t("Gov-Info1")+s.symbol+t("Gov-Info2")+s.symbol+t("Gov-Info3")})})]})},Tr=(e,n)=>{const t=e.entities.infoCards.byId;if(t[n]===void 0)throw new Error(`selectInfoCardById: Unknown info card id ${n}`);return t[n]},wr=(e,n)=>e.entities.infoCards.byVaultId[n]||[],Sr=(e,n)=>e.entities.infoCards.byChainId[n]||[],Nr=e=>us(e.ui.dataLoader.global.infoCards),Ir=e=>({sectionHeading:{...e.typography.h3,color:e.palette.text.secondary,margin:"0 0 8px 0"},sectionText:{color:e.palette.text.secondary,margin:"0 0 32px 0","&:last-child":{marginBottom:0}}}),Ar=T(Ir),Br=c.memo(function({heading:n,text:t}){const{t:a}=k(),s=Ar();return m(B,{children:[n?o("h3",{className:s.sectionHeading,children:a(n)}):null,o("p",{className:s.sectionText,children:a(t)})]})}),Dr=c.memo(function({cardId:n}){const{t}=k(),a=p(s=>Tr(s,n));return m(ke,{children:[m(Be,{children:[a.supertitle?o(Zo,{text:t(a.supertitle)}):null,o(Ye,{title:t(a.title)}),a.actions?o(Yo,{children:a.actions.map(s=>o(Xo,{type:s.type,href:s.url,text:t(s.text)},s.url))}):null]}),o(he,{children:a.content.map(s=>o(Br,{heading:t(s.heading),text:t(s.text)},s.text))})]})}),Lr=c.memo(function({vaultId:n,chainId:t}){const a=M(),s=p(Nr),i=p(d=>wr(d,n)),r=p(d=>Sr(d,t)),l=c.useMemo(()=>ps(i.concat(r)),[i,r]);return c.useEffect(()=>{s&&a(ms())},[a,s]),o(B,{children:l.map(d=>o(Dr,{cardId:d},d))})}),Rr=c.memo(function({title:n,description:t,noindex:a,disableTitleTemplate:s=!1}){const{t:i}=k(),r=c.useMemo(()=>n&&!s?i("Meta-Title-Template",{title:n}):n,[i,n,s]);return m(hs,{children:[r?o("title",{children:r}):null,r?o("meta",{property:"og:title",content:r}):null,r?o("meta",{property:"twitter:title",content:r}):null,t?o("meta",{name:"description",content:t}):null,t?o("meta",{property:"og:description",content:t}):null,t?o("meta",{property:"twitter:description",content:t}):null,a&&fs==="browser"?o("meta",{name:"robots",content:"noindex"}):null]})}),$r=c.memo(function({vaultId:n}){const{t}=k(),a=p(d=>$(d,n)),s=p(d=>z(d,a.chainId)),i=p(d=>q(d,a.chainId,a.depositTokenAddress)),r=p(d=>ze(d,a.platformId)),l=j(a)?"Meta-Vault-Title-Gov":"Meta-Vault-Title";return o(Rr,{title:t(l,{vault:a.name,chain:s.name}),description:t("Meta-Vault-Description",{token:i.symbol,chain:s.name,platform:r.name})})}),Mr=e=>({header:{[e.breakpoints.up("sm")]:{display:"flex",justifyContent:"space-between",alignItems:"center"}},tabs:{marginTop:"16px",backgroundColor:e.palette.background.default,[e.breakpoints.up("sm")]:{marginTop:0}},layout:{backgroundColor:e.palette.background.content,borderRadius:"0 0 12px 12px",[e.breakpoints.up("lg")]:{display:"grid",gridTemplateColumns:"232fr 484fr"}}}),Er=e=>({table:{display:"flex",flexDirection:"column",justifyContent:"center",backgroundImage:"linear-gradient(to bottom, #2D3153 0%, #2D3153 50%, #363B63 50%, #363B63 100%)",borderBottomLeftRadius:"8px",borderBottomRightRadius:"8px",[e.breakpoints.up("lg")]:{borderBottomLeftRadius:0}},cell:{whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},row:{backgroundColor:"#2D3153",display:"grid",gridTemplateColumns:"35fr 35fr 30fr",padding:"16px 24px",borderBottom:"solid 2px #363B63",alignItems:"center",columnGap:"16px","&:last-child":{borderBottom:0},"& $cell:nth-child(2), & $cell:nth-child(3)":{textAlign:"right"}},header:{...e.typography["subline-sm"],color:"#999CB3"},footer:{backgroundColor:"#363B63",borderBottomLeftRadius:"8px",borderBottomRightRadius:"8px",[e.breakpoints.up("lg")]:{borderBottomLeftRadius:0}},asset:{display:"flex",alignItems:"center"},icon:{width:"32px",height:"32px",marginRight:"8px"},tokenAmount:{whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",display:"block",width:"min-content",maxWidth:"100%",marginLeft:"auto"}}),Pr=T(Er),Or=c.memo(function({mode:n,breakdown:t,className:a}){const s=Pr(),{t:i}=k(),{chainId:r,assets:l,token:d}=t,u=`${n}Value`,h=`${n}Amount`;return m("div",{className:I(s.table,a),children:[m("div",{className:I(s.row,s.header),children:[o("div",{className:s.cell,children:i("Vault-LpBreakdown-Asset")}),o("div",{className:s.cell,children:i("Vault-LpBreakdown-TokenAmount")}),o("div",{className:s.cell,children:i("Vault-LpBreakdown-Value")})]}),l.map(f=>m("div",{className:s.row,children:[m("div",{className:I(s.cell,s.asset),children:[o(U,{className:s.icon,chainId:r,assetIds:[f.symbol]})," ",f.symbol]}),o("div",{className:s.cell,children:o(Dt,{amount:f[h],decimals:f.decimals,price:f.price,className:s.tokenAmount})}),o("div",{className:s.cell,children:Se(f[u])})]},f.address)),m("div",{className:I(s.row,s.footer),children:[m("div",{className:I(s.cell,s.asset),children:[o(U,{className:s.icon,chainId:r,assetIds:l.map(f=>f.symbol)})," ","LP"]}),o("div",{className:s.cell,children:o(Dt,{amount:t[h],decimals:d.decimals,price:t.oneValue,className:s.tokenAmount})}),o("div",{className:s.cell,children:Se(t[u])})]})]})}),Vr=e=>({holder:{padding:"24px",display:"flex",columnGap:"24px",alignItems:"center",[e.breakpoints.up("sm")]:{columnGap:"48px"},[e.breakpoints.up("lg")]:{flexDirection:"column",borderRight:"solid 2px #363B63"}},legend:{[e.breakpoints.up("lg")]:{marginTop:"24px"}}}),Wr=e=>({holder:{...e.typography["subline-sm"],color:"#D0D0DA",display:"flex",flexDirection:"column",rowGap:"16px",columnGap:"8px",justifyContent:"center",[e.breakpoints.up("sm")]:{display:"grid",gridTemplateColumns:"repeat(3, 1fr)"},[e.breakpoints.up("lg")]:{display:"grid",gridTemplateColumns:"repeat(2, 1fr)"}},item:{display:"flex",alignItems:"center"},icon:{width:"24px",height:"24px",marginLeft:"8px",marginRight:"4px"},key:{width:"4px",height:"24px",borderRadius:"2px"}}),Fr=T(Wr),_r=c.memo(function({chainId:n,assets:t,className:a}){const s=Fr();return o("div",{className:I(s.holder,a),children:t.map(i=>m("div",{className:s.item,children:[o("div",{className:s.key,style:{backgroundColor:i.color}}),o(U,{chainId:n,assetIds:[i.symbol],className:s.icon}),ye(i.percent)]},i.address))})});var Gr=["layout","type","stroke","connectNulls","isRange","ref"];function Oe(e){return Oe=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},Oe(e)}function Hr(e,n){if(e==null)return{};var t=Ur(e,n),a,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)a=i[s],!(n.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(t[a]=e[a])}return t}function Ur(e,n){if(e==null)return{};var t={},a=Object.keys(e),s,i;for(i=0;i<a.length;i++)s=a[i],!(n.indexOf(s)>=0)&&(t[s]=e[s]);return t}function Te(){return Te=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e},Te.apply(this,arguments)}function An(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);n&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),t.push.apply(t,a)}return t}function ge(e){for(var n=1;n<arguments.length;n++){var t=arguments[n]!=null?arguments[n]:{};n%2?An(Object(t),!0).forEach(function(a){ie(e,a,t[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):An(Object(t)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(t,a))})}return e}function jr(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function Bn(e,n){for(var t=0;t<n.length;t++){var a=n[t];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,Ia(a.key),a)}}function zr(e,n,t){return n&&Bn(e.prototype,n),t&&Bn(e,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function qr(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),n&&$t(e,n)}function $t(e,n){return $t=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,s){return a.__proto__=s,a},$t(e,n)}function Kr(e){var n=Zr();return function(){var a=rt(e),s;if(n){var i=rt(this).constructor;s=Reflect.construct(a,arguments,i)}else s=a.apply(this,arguments);return Qr(this,s)}}function Qr(e,n){if(n&&(Oe(n)==="object"||typeof n=="function"))return n;if(n!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ue(e)}function Ue(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Zr(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function rt(e){return rt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},rt(e)}function ie(e,n,t){return n=Ia(n),n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function Ia(e){var n=Yr(e,"string");return Oe(n)==="symbol"?n:String(n)}function Yr(e,n){if(Oe(e)!=="object"||e===null)return e;var t=e[Symbol.toPrimitive];if(t!==void 0){var a=t.call(e,n||"default");if(Oe(a)!=="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(n==="string"?String:Number)(e)}var pe=function(e){qr(t,e);var n=Kr(t);function t(){var a;jr(this,t);for(var s=arguments.length,i=new Array(s),r=0;r<s;r++)i[r]=arguments[r];return a=n.call.apply(n,[this].concat(i)),ie(Ue(a),"state",{isAnimationFinished:!0}),ie(Ue(a),"id",bi("recharts-area-")),ie(Ue(a),"handleAnimationEnd",function(){var l=a.props.onAnimationEnd;a.setState({isAnimationFinished:!0}),Lt(l)&&l()}),ie(Ue(a),"handleAnimationStart",function(){var l=a.props.onAnimationStart;a.setState({isAnimationFinished:!1}),Lt(l)&&l()}),a}return zr(t,[{key:"renderDots",value:function(s,i){var r=this.props.isAnimationActive,l=this.state.isAnimationFinished;if(r&&!l)return null;var d=this.props,u=d.dot,h=d.points,f=d.dataKey,b=_e(this.props),g=_e(u,!0),C=h.map(function(y,x){var N=ge(ge(ge({key:"dot-".concat(x),r:3},b),g),{},{dataKey:f,cx:y.x,cy:y.y,index:x,value:y.value,payload:y.payload});return t.renderDotItem(u,N)}),v={clipPath:s?"url(#clipPath-".concat(i,")"):null};return R.createElement(Ge,Te({className:"recharts-area-dots"},v),C)}},{key:"renderHorizontalRect",value:function(s){var i=this.props,r=i.baseLine,l=i.points,d=i.strokeWidth,u=l[0].x,h=l[l.length-1].x,f=s*Math.abs(u-h),b=Je(l.map(function(g){return g.y||0}));return $e(r)&&typeof r=="number"?b=Math.max(r,b):r&&Rt(r)&&r.length&&(b=Math.max(Je(r.map(function(g){return g.y||0})),b)),$e(b)?R.createElement("rect",{x:u<h?u:u-f,y:0,width:f,height:Math.floor(b+(d?parseInt("".concat(d),10):1))}):null}},{key:"renderVerticalRect",value:function(s){var i=this.props,r=i.baseLine,l=i.points,d=i.strokeWidth,u=l[0].y,h=l[l.length-1].y,f=s*Math.abs(u-h),b=Je(l.map(function(g){return g.x||0}));return $e(r)&&typeof r=="number"?b=Math.max(r,b):r&&Rt(r)&&r.length&&(b=Math.max(Je(r.map(function(g){return g.x||0})),b)),$e(b)?R.createElement("rect",{x:0,y:u<h?u:u-f,width:b+(d?parseInt("".concat(d),10):1),height:Math.floor(f)}):null}},{key:"renderClipRect",value:function(s){var i=this.props.layout;return i==="vertical"?this.renderVerticalRect(s):this.renderHorizontalRect(s)}},{key:"renderAreaStatically",value:function(s,i,r,l){var d=this.props,u=d.layout,h=d.type,f=d.stroke,b=d.connectNulls,g=d.isRange;d.ref;var C=Hr(d,Gr);return R.createElement(Ge,{clipPath:r?"url(#clipPath-".concat(l,")"):null},R.createElement(xt,Te({},_e(C,!0),{points:s,connectNulls:b,type:h,baseLine:i,layout:u,stroke:"none",className:"recharts-area-area"})),f!=="none"&&R.createElement(xt,Te({},_e(this.props),{className:"recharts-area-curve",layout:u,type:h,connectNulls:b,fill:"none",points:s})),f!=="none"&&g&&R.createElement(xt,Te({},_e(this.props),{className:"recharts-area-curve",layout:u,type:h,connectNulls:b,fill:"none",points:i})))}},{key:"renderAreaWithAnimation",value:function(s,i){var r=this,l=this.props,d=l.points,u=l.baseLine,h=l.isAnimationActive,f=l.animationBegin,b=l.animationDuration,g=l.animationEasing,C=l.animationId,v=this.state,y=v.prevPoints,x=v.prevBaseLine;return R.createElement(yi,{begin:f,duration:b,isActive:h,easing:g,from:{t:0},to:{t:1},key:"area-".concat(C),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(N){var w=N.t;if(y){var P=y.length/d.length,E=d.map(function(W,D){var L=Math.floor(D*P);if(y[L]){var K=y[L],fe=Re(K.x,W.x),G=Re(K.y,W.y);return ge(ge({},W),{},{x:fe(w),y:G(w)})}return W}),S;if($e(u)&&typeof u=="number"){var A=Re(x,u);S=A(w)}else if(Ce(u)||vi(u)){var O=Re(x,0);S=O(w)}else S=u.map(function(W,D){var L=Math.floor(D*P);if(x[L]){var K=x[L],fe=Re(K.x,W.x),G=Re(K.y,W.y);return ge(ge({},W),{},{x:fe(w),y:G(w)})}return W});return r.renderAreaStatically(E,S,s,i)}return R.createElement(Ge,null,R.createElement("defs",null,R.createElement("clipPath",{id:"animationClipPath-".concat(i)},r.renderClipRect(w))),R.createElement(Ge,{clipPath:"url(#animationClipPath-".concat(i,")")},r.renderAreaStatically(d,u,s,i)))})}},{key:"renderArea",value:function(s,i){var r=this.props,l=r.points,d=r.baseLine,u=r.isAnimationActive,h=this.state,f=h.prevPoints,b=h.prevBaseLine,g=h.totalLength;return u&&l&&l.length&&(!f&&g>0||!kn(f,l)||!kn(b,d))?this.renderAreaWithAnimation(s,i):this.renderAreaStatically(l,d,s,i)}},{key:"render",value:function(){var s=this.props,i=s.hide,r=s.dot,l=s.points,d=s.className,u=s.top,h=s.left,f=s.xAxis,b=s.yAxis,g=s.width,C=s.height,v=s.isAnimationActive,y=s.id;if(i||!l||!l.length)return null;var x=this.state.isAnimationFinished,N=l.length===1,w=xi("recharts-area",d),P=f&&f.allowDataOverflow||b&&b.allowDataOverflow,E=Ce(y)?this.id:y;return R.createElement(Ge,{className:w},P?R.createElement("defs",null,R.createElement("clipPath",{id:"clipPath-".concat(E)},R.createElement("rect",{x:h,y:u,width:g,height:Math.floor(C)}))):null,N?null:this.renderArea(P,E),(r||N)&&this.renderDots(P,E),(!v||x)&&ki.renderCallByParent(this.props,l))}}],[{key:"getDerivedStateFromProps",value:function(s,i){return s.animationId!==i.prevAnimationId?{prevAnimationId:s.animationId,curPoints:s.points,curBaseLine:s.baseLine,prevPoints:i.curPoints,prevBaseLine:i.curBaseLine}:s.points!==i.curPoints||s.baseLine!==i.curBaseLine?{curPoints:s.points,curBaseLine:s.baseLine}:null}}]),t}(c.PureComponent);ie(pe,"displayName","Area");ie(pe,"defaultProps",{stroke:"#3182bd",fill:"#3182bd",fillOpacity:.6,xAxisId:0,yAxisId:0,legendType:"line",connectNulls:!1,points:[],dot:!1,activeDot:!0,hide:!1,isAnimationActive:!Ci.isSsr,animationBegin:0,animationDuration:1500,animationEasing:"ease"});ie(pe,"getBaseValue",function(e,n,t,a){var s=e.layout,i=e.baseValue,r=n.props.baseValue,l=r??i;if($e(l)&&typeof l=="number")return l;var d=s==="horizontal"?a:t,u=d.scale.domain();if(d.type==="number"){var h=Math.max(u[0],u[1]),f=Math.min(u[0],u[1]);return l==="dataMin"?f:l==="dataMax"||h<0?h:Math.max(Math.min(u[0],u[1]),0)}return l==="dataMin"?u[0]:l==="dataMax"?u[1]:u[0]});ie(pe,"getComposedData",function(e){var n=e.props,t=e.item,a=e.xAxis,s=e.yAxis,i=e.xAxisTicks,r=e.yAxisTicks,l=e.bandSize,d=e.dataKey,u=e.stackedData,h=e.dataStartIndex,f=e.displayedData,b=e.offset,g=n.layout,C=u&&u.length,v=pe.getBaseValue(n,t,a,s),y=!1,x=f.map(function(w,P){var E=Ti(w,d),S;C?S=u[h+P]:(S=E,Rt(S)?y=!0:S=[v,S]);var A=Ce(S[1])||C&&Ce(E);return g==="horizontal"?{x:Cn({axis:a,ticks:i,bandSize:l,entry:w,index:P}),y:A?null:s.scale(S[1]),value:S,payload:w}:{x:A?null:a.scale(S[1]),y:Cn({axis:s,ticks:r,bandSize:l,entry:w,index:P}),value:S,payload:w}}),N;return C||y?N=x.map(function(w){return g==="horizontal"?{x:w.x,y:!Ce(He(w,"value[0]"))&&!Ce(He(w,"y"))?s.scale(He(w,"value[0]")):null}:{x:Ce(He(w,"value[0]"))?null:a.scale(He(w,"value[0]")),y:w.y}}):g==="horizontal"?N=s.scale(v):N=a.scale(v),ge({points:x,baseLine:N,layout:g,isRange:y},b)});ie(pe,"renderDotItem",function(e,n){var t;return R.isValidElement(e)?t=R.cloneElement(e,n):Lt(e)?t=e(n):t=R.createElement(wi,Te({},n,{className:"recharts-area-dot"})),t});var Xr=Si({chartName:"AreaChart",GraphicalChild:pe,axisComponents:[{axisType:"xAxis",AxisComp:ba},{axisType:"yAxis",AxisComp:ya}],formatAxisMap:Ni});const Jr=e=>({holder:{...e.typography["subline-sm"],color:"#D0D0DA",display:"flex",justifyContent:"center",alignItems:"center"}}),el=T(Jr),tl=function({cx:e,cy:n,innerRadius:t,outerRadius:a,startAngle:s,endAngle:i,fill:r,stroke:l,strokeWidth:d,payload:u}){return m("g",{children:[o("text",{x:e,y:n,dy:-8,textAnchor:"middle",alignmentBaseline:"middle",fill:"#D0D0DA",children:u.symbol}),o("text",{x:e,y:n,dy:8,textAnchor:"middle",alignmentBaseline:"middle",fill:"#D0D0DA",children:ye(u.percent)}),o(Di,{cx:e,cy:n,innerRadius:t-2,outerRadius:a+2,startAngle:s,endAngle:i,fill:r,stroke:l,strokeWidth:d})]})},nl=c.memo(function({assets:n}){const t=el(),[a,s]=c.useState(void 0),i=c.useCallback((l,d)=>{s(d)},[s]),r=c.useCallback(()=>{s(void 0)},[s]);return o("div",{className:t.holder,children:o(Ii,{width:164,height:164,children:o(Ai,{data:n,dataKey:"percent",valueKey:"symbol",cx:"50%",cy:"50%",innerRadius:50,outerRadius:80,paddingAngle:0,startAngle:90,endAngle:450,onMouseEnter:i,onMouseLeave:r,activeShape:tl,activeIndex:a,children:n.map(l=>o(Bi,{fill:l.color,stroke:"#2D3153",strokeWidth:3},l.address))})})})}),al=T(Vr),sl=c.memo(function({breakdown:n}){const t=al();return m("div",{className:t.holder,children:[o(nl,{assets:n.assets}),o(_r,{assets:n.assets,chainId:n.chainId,className:t.legend})]})}),ol=["#D9E7F2","#ABCBE3","#7DAFD3","#4F93C4","#3674A0","#1d4159","#152e3f"];function il(e,n){const t=p(h=>q(h,e.chainId,e.depositTokenAddress)),{assets:a,userShareOfPool:s,lpTotalSupplyDecimal:i,userBalanceDecimal:r,oneLpShareOfPool:l}=p(h=>gs(h,e,n)),d=c.useMemo(()=>a.reduce((h,f)=>h.plus(f.totalValue),V),[a]),u=c.useMemo(()=>a.map((h,f)=>({...h,color:ol[f%a.length],percent:d.gt(V)?h.totalValue.dividedBy(d).toNumber():0})),[a,d]);return{chainId:e.chainId,assets:u,token:t,totalAmount:i,oneAmount:bs,userAmount:s.multipliedBy(i),totalValue:d,oneValue:l.multipliedBy(d),userValue:s.multipliedBy(d),userBalance:r}}const rl=T(Mr),ll=c.memo(function({vault:n,breakdown:t}){const a=rl(),{t:s}=k(),i=il(n,t),{userBalance:r}=i,[l,d]=c.useState(r.gt(V)?"user":"one"),[u,h]=c.useState(!1),f=c.useMemo(()=>{const g={};return r.gt(V)&&(g.user=s("Vault-LpBreakdown-YourDeposit")),g.one=s("Vault-LpBreakdown-1LP"),g.total=s("Vault-LpBreakdown-TotalPool"),g},[r,s]),b=c.useCallback(g=>{d(g),h(!0)},[d,h]);return c.useEffect(()=>{r.gt(V)&&!u&&l!=="user"&&b("user")},[r,u,b,l]),m(ke,{children:[m(Be,{className:a.header,children:[o(Ye,{title:"LP Breakdown"}),o(Jt,{buttonsClass:a.tabs,options:f,onChange:b,value:l})]}),m(he,{disableDefaultClass:!0,className:a.layout,children:[o(sl,{breakdown:i}),o(Or,{mode:l,breakdown:i})]})]})}),cl=c.memo(function({vaultId:n}){const t=M(),a=p(u=>$(u,n)),s=a.chainId,i=p(u=>pt(u,s)),r=p(u=>Hn(u,s)),l=p(u=>ys(u,s,a.depositTokenAddress)),d=p(u=>vs(u,a.depositTokenAddress,a.chainId));return c.useEffect(()=>{!i&&r&&t(Un({chainId:s}))},[t,i,r,s]),d?o(ll,{vault:a,breakdown:l}):null}),dl=e=>({title:{...e.typography.h2,color:e.palette.text.primary,alignItems:"center"},container:{},cards:{marginTop:24,display:"flex",flexDirection:"column",rowGap:"16px"}}),ul=e=>({container:{backgroundColor:e.palette.background.content,padding:"16px",borderRadius:"12px"},titleContainer:{display:"flex",[e.breakpoints.down("sm")]:{flexDirection:"column",rowGap:"16px"}},title:{...e.typography["body-lg-med"],display:"flex","& span":{marginLeft:"8px"}},buttonsContainer:{display:"flex",alignItems:"center",flexWrap:"wrap",rowGap:"8px",columnGap:"8px",marginLeft:"auto",[e.breakpoints.down("sm")]:{marginLeft:"0"}},description:{...e.typography["body-lg"],color:e.palette.text.secondary,marginTop:"16px"}}),pl=T(ul);function ml({token:e}){const n=pl(),{t}=k(),a=p(s=>z(s,e.chainId));return m("div",{className:n.container,children:[m("div",{className:n.titleContainer,children:[m("div",{className:n.title,children:[o(U,{assetIds:[e.id],chainId:a.id,size:24}),o("span",{children:e.symbol})]}),m("div",{className:n.buttonsContainer,children:[e.website&&o(ae,{hideIconOnMobile:!0,href:e.website,text:t("Token-Site")}),Cs(e)&&o(ae,{hideIconOnMobile:!0,href:`${a.explorerUrl}/token/${e.address}`,text:t("Token-Contract")}),e.documentation&&o(ae,{hideIconOnMobile:!0,href:e.documentation,text:t("Token-Docs")})]})]}),o("div",{className:n.description,children:e.description?e.description:t("Token-NoDescrip")})]})}function hl({chainId:e,tokenId:n}){const t=p(r=>pt(r,e)&&xs(r,e,n)||!1),a=p(r=>t?ks(r,e,n):null),s=p(r=>Hn(r,e)),i=M();return R.useEffect(()=>{s&&i(Un({chainId:e}))},[i,e,s]),!t||!a?o(B,{}):o(ml,{token:a})}const fl=R.memo(hl),gl=T(dl),bl=c.memo(function({vaultId:n}){const{t}=k(),a=p(i=>$(i,n)),s=gl();return o("div",{className:s.container,children:o(bt,{openByDefault:!0,titleClassName:s.title,title:t("Asset-Detail"),children:o("div",{className:s.cards,children:a.assetIds.map(i=>o(fl,{chainId:a.chainId,tokenId:i},i))})})})}),yl=e=>({link:{textDecoration:"none"},container:{marginTop:"16px",backgroundColor:e.palette.background.content,padding:"16px",borderRadius:"12px","&:Hover":{backgroundColor:e.palette.background.vaults.defaultOutline}},title:{...e.typography["body-lg-med"],color:e.palette.text.primary,display:"flex"},icon:{height:"24px",width:"24px",marginRight:"8px"},content:{marginTop:"16px",...e.typography["body-lg"],color:e.palette.text.secondary}}),vl=T(yl),rn=c.memo(function({logo:n,title:t,content:a,url:s}){const i=vl();return o("a",{href:s,target:"__blank",className:i.link,children:m("div",{className:i.container,children:[m("div",{className:i.title,children:[o("img",{src:n,alt:t,className:i.icon})," ",t]}),o("div",{className:i.content,children:a})]})})}),xl="/assets/insurace-0aff7c4b.svg",kl=c.memo(function(){const{t:n}=k();return o(rn,{logo:xl,title:n("Insurace-Title"),content:n("Insurace-Content"),url:"https://app.insurace.io/Insurance/Cart?id=110&chain=BSC&referrer=95244279533280151623141934507761661103282646845"})}),Cl="/assets/nexus-df9b61ac.svg",Tl=c.memo(function(){const{t:n}=k();return o(rn,{logo:Cl,title:n("Nexus-Title"),content:n("Nexus-Content"),url:"https://app.nexusmutual.io/cover/buy/get-quote?productId=14"})}),wl=e=>({container:{},title:{...e.typography.h2,color:e.palette.text.primary}}),Sl=jn(wl),Dn=c.memo(function({vaultId:n}){const{t}=k(),a=Sl(),s=p(r=>Ts(r,n)),i=p(r=>ws(r,n));return!s&&!i?null:o("div",{className:a.container,children:m(bt,{openByDefault:!0,titleClassName:a.title,title:t("Insurance"),children:[i&&o(Tl,{}),s&&o(kl,{})]})})}),Nl="/assets/qidao-4861515a.svg",Il=()=>{const{t:e}=k();return o(rn,{logo:Nl,title:e("QiDao-Title"),content:e("QiDao-Content"),url:"https://app.mai.finance/vaults"})},Al=R.memo(Il),Bl=e=>({container:{},title:{...e.typography.h2,color:e.palette.text.primary}}),Dl=jn(Bl),Ln=c.memo(function({vaultId:n}){const{t}=k(),a=Dl();return p(i=>Ss(i,n))?o("div",{className:a.container,children:o(bt,{openByDefault:!0,titleClassName:a.title,title:t("Leverage"),children:o(Al,{})})}):null}),Ll=()=>({container:{height:"400px"}}),Rl=T(Ll),$l=c.memo(function(){const{t:n}=k(),t=Rl();return o("div",{className:t.container,children:o(nn,{text:n("Transact-Loading")})})}),Ml=()=>({container:{}}),El=e=>({tabs:{borderRadius:"12px 12px 0 0",display:"flex",width:"100%",background:"#111321"},tab:{...e.typography["body-lg-med"],position:"relative",color:"#999CB3",background:"transparent",flexBasis:"1px",flexGrow:1,flexShrink:0,padding:"16px 0",margin:0,border:"none",boxShadow:"none",outline:"none",cursor:"pointer",userSelect:"none","&::after":{content:'""',position:"absolute",left:0,bottom:0,right:0,height:"2px",background:"#363B63"},"&:first-child":{borderRadius:"12px 0 0 0"},"&:last-child":{borderRadius:"0 12px 0 0"}},selectedTab:{color:"#F5F5FF",cursor:"default",pointerEvents:"none","&::after":{backgroundColor:"#999CB3"}}}),Aa=T(El),Pl=c.memo(function({selected:n,options:t,onChange:a,className:s}){const i=Aa();return o("div",{className:I(i.tabs,s),children:t.map(({value:r,label:l})=>o(Ol,{label:l,value:r,onChange:a,selected:n===r},r))})}),Ol=c.memo(function({value:n,label:t,onChange:a,selected:s,className:i}){const r=Aa(),l=c.useCallback(()=>{a(n)},[n,a]);return o("button",{className:I(r.tab,i,{[r.selectedTab]:s}),onClick:l,children:t})}),Vl=e=>({container:{padding:"24px"},labels:{display:"flex",flexWrap:"nowrap",alignItems:"baseline",gap:"8px",marginBottom:"4px"},selectLabel:{...e.typography["body-lg"],color:e.palette.text.dark},availableLabel:{...e.typography["body-sm"],color:e.palette.text.dark,marginLeft:"auto"},availableLabelAmount:{...e.typography["body-sm-med"],color:e.palette.text.middle},inputs:{display:"flex",flexWrap:"nowrap",gap:"12px"},links:{marginTop:"12px"},quote:{marginTop:"12px"},actions:{marginTop:"24px"},fees:{marginTop:"24px"}}),Wl=()=>({button:{padding:"8px 12px",margin:0,border:"none",boxShadow:"none",outline:"none",background:"#111321",borderRadius:"8px",display:"flex",alignItems:"center",gap:"2px",pointerEvents:"none"},buttonMore:{padding:"8px 6px 8px 12px",cursor:"pointer",pointerEvents:"auto"},iconAssets:{width:"32px",height:"32px",flexShrink:0,flexGrow:0},iconMore:{flexShrink:0,flexGrow:0,fill:"#D0D0DA"}}),ln=c.memo(function({tokenAddress:n,chainId:t,size:a,className:s}){const i=p(l=>Ns(l,t,n));return c.useMemo(()=>i&&gi(i.id,i.chainId),[i])?o(U,{chainId:t,assetIds:[i.id],className:s,size:a}):i?o(Fl,{token:i,size:a,className:s}):o(U,{chainId:t,assetIds:["unknown"],className:s,size:a})}),Fl=c.memo(function({token:n,size:t,className:a}){const s=p(i=>Is(i,n.chainId,n.address));return s?o(U,{chainId:n.chainId,assetIds:s.assetIds,className:a,size:t}):o(U,{chainId:n.chainId,assetIds:[n.id],className:a,size:t})}),Ba=c.memo(function({tokens:n,size:t,className:a}){return n.length===1?o(ln,{tokenAddress:n[0].address,chainId:n[0].chainId,className:a,size:t}):o(U,{chainId:n[0].chainId,assetIds:n.map(s=>s.id),className:a,size:t})}),_l=T(Wl),Da=c.memo(function({className:n}){const t=M(),a=_l(),s=p(zn),r=p(Gt)>1,l=c.useCallback(()=>{t(ee.switchStep(ce.TokenSelect))},[t]);return m("button",{onClick:r?l:void 0,className:I(a.button,n,{[a.buttonMore]:r}),children:[o(Ba,{tokens:s,className:a.iconAssets}),r?o(dt,{className:a.iconMore}):null]})}),Gl=()=>({"@keyframes scrollBackground":{"0%":{backgroundPosition:"0 0"},"50%":{backgroundPosition:"100% 0"},"100%":{backgroundPosition:"0 0"}},placeholder:{lineHeight:"inherit",display:"inline-block",opacity:"0",visibility:"hidden",userSelect:"none",pointerEvents:"none"},holder:{display:"inline-block",position:"relative"},loader:{backgroundImage:"linear-gradient(90deg, #313759, #8585A6, #313759)",backgroundSize:"300% 100%",animationName:"$scrollBackground",animationDuration:"3s",animationIterationCount:"infinite",animationTimingFunction:"ease",borderRadius:"0.25em",display:"inline-block",position:"absolute",height:"1em",width:"100%",left:"0",top:"50%",transform:"translate(0,-50%)"}}),Hl=T(Gl),we=c.memo(function({placeholder:n,className:t}){const a=Hl();return m("span",{className:I(a.holder,t),children:[o("span",{className:a.placeholder,children:n}),o("span",{className:a.loader})]})}),Ul=()=>({input:{}}),jl=e=>({input:{color:"#D0D0DA",background:"#111321",borderRadius:"8px",width:"100%",display:"flex",cursor:"default","& .MuiInputBase-input":{...e.typography.h3,padding:"12px 16px",color:e.palette.text.light,height:"auto",cursor:"default","&::placeholder":{color:e.palette.text.dark,opacity:1}}},error:{borderColor:"#D15347"},max:{...e.typography["subline-sm"],color:e.palette.text.light,backgroundColor:"#363B63",border:"none",boxShadow:"none",outline:"none",borderRadius:"4px",margin:0,padding:"6px 12px",minWidth:0,flexShrink:0,cursor:"pointer",marginRight:"8px","&:disabled":{color:"#8A8EA8",backgroundColor:"#262A40",borderColor:"#303550",opacity:.4}}}),zl=T(jl);function ql(e){const n=new RegExp("^[0-9]*\\.?[0-9]*$");return!!e.match(n)}function Rn(e){const n=e.replace(/[^0-9.]+/g,"").replace(/\.$/,"");return new H(n)}function et(e,n){return e.lte(V)?"":e.decimalPlaces(n,H.ROUND_FLOOR).toString(10)}const La=c.memo(function({value:n,maxValue:t,onChange:a,maxDecimals:s=2,error:i=!1,className:r}){const{t:l}=k(),d=zl(),[u,h]=c.useState(()=>et(n,s)),f=c.useCallback(()=>{a(t,!0)},[t,a]),b=c.useMemo(()=>t?o("button",{onClick:f,disabled:t.lte(V),className:d.max,children:l("Transact-Max")}):void 0,[t,f,d,l]),g=c.useCallback(v=>{const y=v.target.value;if(y.length===0){h(""),a(V,!1);return}if(y==="."){h("0."),a(V,!1);return}if(!ql(y))return;const x=Rn(y);if(x.isNaN()||!x.isFinite()||x.isNegative()){h(""),a(V,!1);return}if(t&&x.gt(t)){h(et(t,s)),a(t,!0);return}h(y),a(x,t&&x.gte(t))},[h,s,a,t]),C=c.useCallback(v=>{const y=v.target.value;if(y.length!==0)if(y===".")h("");else{const x=Rn(y);h(et(x,s))}},[h,s]);return c.useEffect(()=>{h(et(n,s))},[n,h,s]),c.useEffect(()=>{t&&n.gt(t)&&a(t,!0)},[n,t,a]),o(Pe,{className:I(d.input,r,{[d.error]:i}),value:u,onChange:g,onBlur:C,fullWidth:!0,endAdornment:b,placeholder:"0",inputMode:"decimal"})}),Kl=T(Ul),Ql=c.memo(function({className:n}){const t=M(),a=Kl(),i=p(zn)[0],r=p(u=>Ne(u,i.chainId,i.address)),l=p(Ht),d=c.useCallback((u,h)=>{t(ee.setInputAmount({amount:u.decimalPlaces(i.decimals,H.ROUND_FLOOR),max:h}))},[t,i]);return o(La,{className:I(a.input,n),value:l,maxValue:r,maxDecimals:i.decimals,onChange:d})}),Zl=e=>({btnContainer:{display:"flex",flexWrap:"wrap",columnGap:"8px",rowGap:"8px"},btnSecondary:{...e.typography["body-lg"],textDecoration:"none",color:e.palette.text.secondary,backgroundColor:e.palette.background.vaults.defaultOutline,borderRadius:"4px",transition:"color 0.2s",padding:"2px 8px",width:"max-content","&:hover":{color:e.palette.text.primary,backgroundColor:"#3F466D",transition:"color 0.1s"}}}),Yl=T(Zl),Xl=c.memo(function({className:n}){const t=Yl(),{t:a}=k(),s=p(X),i=p(l=>$(l,s));return i.buyTokenUrl||i.addLiquidityUrl||i.assetIds.includes("BIFI")?m("div",{className:I(t.btnContainer,n),children:[i.buyTokenUrl&&o(ae,{href:i.buyTokenUrl,text:a("Transact-BuyTkn")}),i.addLiquidityUrl&&o(ae,{href:i.addLiquidityUrl,text:a("Transact-AddLiquidity")}),i.assetIds.includes("BIFI")&&o(As,{to:"/bridge",className:t.btnSecondary,children:a("Header-BridgeBifi")})]}):null}),Jl=()=>({actions:{display:"flex",flexDirection:"column",gap:"24px",width:"100%"}}),ec=1/100,tc=5/100,cn=c.memo(function({quote:n,onChange:t,className:a}){const{t:s}=k(),[i,r]=c.useState(!1),[l,d]=c.useState(!1),[u,h]=c.useState(!1),f=l?Ie:Ae,b=Ut(n),g=b?n.priceImpact:0;return c.useEffect(()=>{b&&g>=ec?(r(!0),g>=tc?(d(!0),h(!1)):(d(!1),h(!1))):(r(!1),d(!1),h(!1))},[b,g,r,d,h]),c.useEffect(()=>{t(l&&!u)},[l,u,t]),!b||!i?null:m(f,{className:a,children:[o("p",{children:s("Transact-Notice-PriceImpact",{priceImpact:ye(-g,2,"0.00%")})}),l?o(pa,{onChange:h,checked:u,label:s("Transact-Notice-PriceImpact-Confirm")}):null]})}),nc=c.memo(function({quote:n,onChange:t,className:a}){const{t:s}=k(),i=c.useMemo(()=>n.inputs.filter(l=>l.max&&Bs(l.token)),[n]),r=c.useMemo(()=>i.length>0,[i]);return c.useEffect(()=>{t(r)},[r,t]),r?o(Ie,{className:a,children:o("p",{children:s("Transact-Notice-MaxNative",{token:i[0].token.symbol})})}):null}),dn=c.memo(function({className:n}){const{t}=k();return m(Ae,{className:n,children:[t("Transact-Notice-EmeraldGas")," "]})}),ac=()=>({positive:{color:"#59A662"},negative:{color:"#D15347"},changes:{display:"flex",flexDirection:"column",gap:"1em",width:"100%"}}),sc=T(ac),un=c.memo(function({className:n,onChange:t}){const{t:a}=k(),s=sc(),i=p(Ds),r=p(Ls),l=p(Rs);return c.useEffect(()=>{t(i===_.Rejected||i===_.Pending)},[i,t]),i===_.Fulfilled&&r.length>0?m(Ae,{className:n,children:[o("p",{children:a("Transact-Notice-Confirm")}),o("div",{className:s.changes,children:r.map((d,u)=>m("div",{children:[o(Y,{t:a,i18nKey:"Transact-Notice-Confirm-Original",components:{amount:o(Z,{amount:d.amount,token:d.token})}}),o("br",{}),o(Y,{t:a,i18nKey:"Transact-Notice-Confirm-New",components:{amount:o(Z,{amount:d.newAmount,token:d.token})}}),o("br",{}),o(Y,{t:a,i18nKey:"Transact-Notice-Confirm-Difference",values:{token:d.token.symbol},components:{amount:o(Z,{amount:d.difference,token:d.token,className:I({[s.positive]:d.difference.gt(V),[s.negative]:d.difference.lt(V)})})}})]},u))})]}):i===_.Rejected?o(Ie,{className:n,children:a("Transact-Notice-Confirm-Error",{error:jt(l)})}):null}),pn=c.memo(function({className:n}){const{t}=k(),a=M(),s=c.useCallback(()=>{a(de())},[a]);return o(F,{variant:"success",fullWidth:!0,borderless:!0,className:n,onClick:s,children:t("Network-ConnectWallet")})}),mn=c.memo(function({chainId:n,className:t}){const{t:a}=k(),s=M(),i=p(l=>z(l,n)),r=c.useCallback(()=>{s(ue({chainId:n}))},[s,n]);return o(F,{variant:"success",fullWidth:!0,borderless:!0,className:t,onClick:r,children:a("Network-Change",{network:i.name})})}),oc=()=>({alert:{}}),ic=c.memo(function({time:n,minParts:t=3,maxParts:a=3}){const[s,i]=c.useState(()=>yn(n,a,t));return c.useEffect(()=>{const r=setInterval(()=>{i(yn(n,a,t))},1e3);return()=>clearInterval(r)},[n,i,t,a]),o(B,{children:s})}),rc=c.memo(function({time:n,...t}){return n&&ri(n)?o(ic,{time:n,...t}):null}),lc=T(oc),Ra=c.memo(function({noticeKey:n,noticeKeyUnlocks:t,onChange:a,fetchUnlockTime:s}){const i=lc(),{t:r}=k(),{execute:l,status:d,value:u}=Ca(s,{unlocksAt:0,cooldownDuration:15*60*1e3}),[h,f]=c.useState(!1),[b,g]=c.useState(!1),[C,v]=c.useState(()=>new Date);return c.useEffect(()=>{const x=setInterval(l,3e4);return()=>clearInterval(x)},[l]),c.useEffect(()=>{h===!1&&d==="success"&&f(!0)},[d,h,f]),c.useEffect(()=>{if(h){v(new Date(u.unlocksAt));const x=setInterval(()=>{g(u.unlocksAt>Date.now())},1e3);return()=>clearInterval(x)}},[u,h,g,v]),c.useEffect(()=>{a(b)},[a,b]),m(b?Ie:Ae,{className:i.alert,children:[o("p",{children:r(n,{cooldown:Hi(new Date(0),new Date(u.cooldownDuration))})}),h&&b?o("p",{children:o(Y,{t:r,i18nKey:t,components:{countdown:o(rc,{time:C,minParts:1})}})}):null]})}),Tt={};function cc(e){return e.managerMethod in Tt||(Tt[e.managerMethod]=[{inputs:[],name:e.managerMethod,outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"}]),Tt[e.managerMethod]}const dc=[{inputs:[{internalType:"address",name:"",type:"address"}],name:"lastAddedAt",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"cooldownDuration",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"}];async function $a(e,n,t,a){const s=await qn(t),i=new Kn.MultiCall(s,t.multicallAddress),r=new s.eth.Contract(cc(a),e),[[l]]=await i.all([[{manager:r.methods[a.managerMethod]()}]]),d=new s.eth.Contract(dc,l.manager),[[u]]=await i.all([[{lastAddedAt:n?d.methods.lastAddedAt(n):"0",cooldownDuration:d.methods.cooldownDuration()}]]),h=new H(u.lastAddedAt||"0").multipliedBy(1e3).toNumber(),f=new H(u.cooldownDuration||"0").multipliedBy(1e3).toNumber();return{unlocksAt:h+f,cooldownDuration:f}}const uc=c.memo(function({vaultId:n,config:t,onChange:a}){const s=p(u=>$(u,n)),i=p(u=>z(u,s.chainId)),r=p($s),l=s.depositTokenAddress,d=c.useCallback(()=>$a(l,r,i,t),[l,r,i,t]);return o(Ra,{noticeKey:"Glp-Deposit-Notice",noticeKeyUnlocks:"Glp-Deposit-Notice-Unlocks",onChange:a,fetchUnlockTime:d})}),pc=c.memo(function({vaultId:n,config:t,onChange:a}){const s=p(u=>$(u,n)),i=p(u=>z(u,s.chainId)),r=p(u=>Gn(u,s.id)),l=s.depositTokenAddress,d=c.useCallback(()=>$a(l,r,i,t),[r,l,i,t]);return o(Ra,{noticeKey:"Glp-Withdraw-Notice",noticeKeyUnlocks:"Glp-Withdraw-Notice-Unlocks",onChange:a,fetchUnlockTime:d})}),lt={"opx-olp":{managerMethod:"glpManager"},"mvx-mvlp":{managerMethod:"mvlpManager"}},mc=c.memo(function({vaultId:n,onChange:t}){return n in lt?o(uc,{vaultId:n,config:lt[n],onChange:t}):null}),hc=c.memo(function({vaultId:n,onChange:t}){return n in lt?o(pc,{vaultId:n,config:lt[n],onChange:t}):null}),fc=T(Jl),gc=c.memo(function({className:n}){const t=p(mt),a=p(Qe),s=p(l=>a?We(l,a.optionId):null),i=p(ve),r=p(xe);return i?s&&s.chainId!==r?o(mn,{chainId:s.chainId,className:n}):!s||!a||t!==_.Fulfilled?o(bc,{className:n}):o(yc,{className:n,quote:a,option:s}):o(pn,{className:n})}),bc=c.memo(function({className:n}){const{t}=k();return o(F,{variant:"success",disabled:!0,fullWidth:!0,borderless:!0,className:n,children:t("Transact-Deposit")})}),yc=c.memo(function({option:n,quote:t,className:a}){const{t:s}=k(),i=fc(),r=M(),[l,d]=c.useState(!1),[u,h]=c.useState(!1),[f,b]=c.useState(!1),[g,C]=c.useState(!1),v=p(me),y=c.useMemo(()=>t.inputs.every(w=>w.max===!0),[t]),x=v||l||u||f||g,N=c.useCallback(()=>{r(zt(t,s))},[r,t,s]);return m("div",{className:I(i.actions,a),children:[n.chainId==="emerald"?o(dn,{}):null,o(mc,{vaultId:n.vaultId,onChange:C}),o(cn,{quote:t,onChange:d}),o(nc,{quote:t,onChange:h}),o(un,{onChange:b}),o(F,{variant:"success",disabled:x,fullWidth:!0,borderless:!0,onClick:N,children:s(y?"Transact-DepositAll":"Transact-Deposit")})]})}),vc=()=>({container:{},divider:{marginBottom:"16px"},tokenAmounts:{display:"flex",flexDirection:"column",gap:"8px",width:"100%"},route:{marginTop:"24px"},slippage:{marginTop:"24px"}}),xc=e=>({holder:{background:"#2D3153",borderRadius:"8px",padding:"8px 12px",display:"flex",alignItems:"center",justifyContent:"space-between",gap:"12px"},amountWithValue:{display:"flex",flexDirection:"column"},amount:{...e.typography["body-lg-med"],color:e.palette.text.middle},value:{...e.typography["body-sm"],color:e.palette.text.dark},tokenWithIcon:{display:"flex",textAlign:"right",alignItems:"center",gap:"8px"},token:{...e.typography["body-lg-med"],color:e.palette.text.middle},icon:{width:"32px",height:"32px"}}),kc=()=>({"@keyframes scrollBackground":{"0%":{backgroundPosition:"0 0"},"50%":{backgroundPosition:"100% 0"},"100%":{backgroundPosition:"0 0"}},holder:{backgroundImage:"linear-gradient(90deg, #313759, #8585A6, #313759)",backgroundSize:"300% 100%",animationName:"$scrollBackground",animationDuration:"3s",animationIterationCount:"infinite",animationTimingFunction:"ease",borderRadius:"50%",width:ot,height:ot}}),Cc=T(kc),Tc=c.memo(function({size:n=ot,className:t}){const a=Cc();return o("div",{className:I(a.holder,t),style:n!==ot?{width:n,height:n}:void 0})}),Ma=T(xc),wc=c.memo(function({amount:n,tokenAddress:t,chainId:a,className:s}){const i=Ma(),r=p(u=>q(u,a,t)),l=p(u=>Ms(u,a,t)),d=c.useMemo(()=>n.multipliedBy(l),[n,l]);return o(Ea,{className:s,amount:o(Dt,{amount:n,decimals:r.decimals,price:l,className:i.token,minShortPlaces:4}),value:Se(d),tokenSymbol:r.symbol,tokenIcon:o(ln,{chainId:r.chainId,tokenAddress:r.address,className:i.icon})})}),Sc=c.memo(function({className:n}){return o(Ea,{className:n,amount:o(we,{placeholder:"1234.5678"}),value:o(we,{placeholder:"$1245.56"}),tokenSymbol:o(we,{placeholder:"ABC-XYZ LP"}),tokenIcon:o(Tc,{size:32})})}),Ea=c.memo(function({amount:n,value:t,tokenSymbol:a,tokenIcon:s,className:i}){const r=Ma();return m("div",{className:I(r.holder,i),children:[m("div",{className:r.amountWithValue,children:[n,o("div",{className:r.value,children:t})]}),m("div",{className:r.tokenWithIcon,children:[o("span",{className:r.token,children:a}),s]})]})}),Nc=e=>({holder:{display:"flex",position:"relative",width:"100%",justifyContent:"center","&::before, &::after":{content:'""',display:"block",position:"absolute",top:"calc(50% - 1px)",height:"2px",background:"#2D3153",width:"calc((100% - 48px)/2)"},"&::before":{left:0},"&::after":{right:0}},arrow:{fill:e.palette.text.light,width:"15px",height:"18px"}}),Ic=T(Nc),Ac=c.memo(function({className:n}){const t=Ic();return o("div",{className:I(t.holder,n),children:o(Ei,{className:t.arrow})})}),Bc=e=>({holder:{},title:{...e.typography["body-lg"],color:e.palette.text.dark,marginBottom:"8px"},routeHolder:{borderRadius:"8px",border:"solid 2px #2D3153",overflow:"hidden"},routeHeader:{background:"#2D3153",padding:"8px 12px",display:"flex",justifyContent:"space-between"},routerHeaderClickable:{cursor:"pointer"},routeHeaderProvider:{},routeContent:{borderRadius:"0px 0px 8px 8px",padding:"16px"},steps:{...e.typography["body-lg"],display:"grid",gridTemplateColumns:"auto 1fr",gap:"12px 8px"},stepNumber:{color:e.palette.text.dark,flexShrink:0,flexGrow:0},stepContent:{color:e.palette.text.middle}}),Dc=e=>({container:{...e.typography["body-lg-med"],color:e.palette.text.middle,display:"flex",columnGap:"8px",alignItems:"center"},icon:{width:"24px",height:"24px"}}),Lc="/assets/beefy-zap-solidly-fa80eedf.svg",Rc="/assets/beefy-zap-solidly-fa80eedf.svg",$c="/assets/one-inch-d169a042.svg",Mc=Object.assign({"../images/transact-providers/beefy-zap-solidly.svg":Lc,"../images/transact-providers/beefy-zap-uniswapv2.svg":Rc,"../images/transact-providers/one-inch.svg":$c}),Ec=Es(Mc);function Pc(e){return Ec([e])}const Oc=c.memo(function({provider:n,className:t,width:a=24}){const s=Pc(n);return s?o("img",{src:s,width:a,height:a,alt:n,className:t}):null}),Vc=T(Dc),Pa=c.memo(function({providerId:n,className:t}){const a=Vc(),{t:s}=k();return m("div",{className:I(a.container,t),children:[o(Oc,{provider:n,width:24,className:a.icon}),s(`Transact-Provider-${n}`)]})}),Oa=T(Bc),Wc=c.memo(function({step:n}){const{t}=k();return o(Y,{t,i18nKey:"Transact-Route-Step-Swap",values:{fromToken:n.fromToken.symbol,toToken:n.toToken.symbol},components:{fromAmount:o(Z,{amount:n.fromAmount,token:n.fromToken,minShortPlaces:4}),toAmount:o(Z,{amount:n.toAmount,token:n.toToken,minShortPlaces:4})}})}),Fc=c.memo(function({step:n}){const{t}=k(),a=p(i=>ze(i,n.outputToken.providerId)),s=c.useMemo(()=>n.inputs.map(i=>m(c.Fragment,{children:[o(Z,{amount:i.amount,token:i.token,minShortPlaces:4})," ",i.token.symbol]},`${i.token.chainId}-${i.token.address}`)),[n]);return o(B,{children:o(Y,{t,i18nKey:"Transact-Route-Step-Build",values:{provider:a.name},components:{tokenAmounts:o(ht,{items:s})}})})}),_c=c.memo(function({step:n}){const{t}=k();return o(Y,{t,i18nKey:"Transact-Route-Step-Deposit",values:{token:n.token.symbol},components:{amount:o(Z,{amount:n.amount,token:n.token,minShortPlaces:4})}})}),Gc=c.memo(function({step:n}){const{t}=k(),a=p(i=>ze(i,n.inputToken.providerId)),s=c.useMemo(()=>n.outputs.map(i=>m(c.Fragment,{children:[o(Z,{amount:i.amount,token:i.token,minShortPlaces:4})," ",i.token.symbol]},`${i.token.chainId}-${i.token.address}`)),[n]);return o(B,{children:o(Y,{t,i18nKey:"Transact-Route-Step-Split",values:{provider:a.name},components:{tokenAmounts:o(ht,{items:s})}})})}),Hc={swap:Wc,build:Fc,deposit:_c,split:Gc},Uc=c.memo(function({step:n,number:t}){const a=Oa(),s=Hc[n.type];return m(B,{children:[m("div",{className:a.stepNumber,children:[t,"."]}),o("div",{className:a.stepContent,children:o(s,{step:n})})]})}),jc=c.memo(function({quote:n,className:t}){const{t:a}=k(),s=Oa(),i=M(),r=p(h=>We(h,n.optionId)),d=p(Qn).length>1,u=c.useCallback(()=>{i(ee.switchStep(ce.QuoteSelect))},[i]);return m("div",{className:I(s.holder,t),children:[o("div",{className:s.title,children:a("Transact-ZapRoute")}),m("div",{className:s.routeHolder,children:[m("div",{className:I(s.routeHeader,{[s.routerHeaderClickable]:d}),onClick:d?u:void 0,children:[o(Pa,{providerId:r.providerId,className:s.routeHeaderProvider}),d?">":void 0]}),o("div",{className:s.routeContent,children:o("div",{className:s.steps,children:n.steps.map((h,f)=>o(Uc,{step:h,number:f+1},f))})})]})]})}),zc=e=>({holder:{display:"flex",gap:"16px",marginBottom:"8px"},title:{...e.typography["body-lg"],color:e.palette.text.dark},refreshButton:{padding:"0",margin:"0 0 0 auto",flexShrink:0,flexGrow:0,background:"transparent",boxShadow:"none",border:"none",outline:"none",cursor:"pointer",lineHeight:1,width:"24px",height:"24px",position:"relative"},refreshIcon:{width:"24px",height:"24px",fill:"#59A662",position:"relative",zIndex:2}}),qc=T(zc),Kc=c.memo(function({title:n,enableRefresh:t=!1,className:a}){const s=qc(),i=M(),r=c.useCallback(()=>{i(Ps())},[i]);return m("div",{className:I(s.holder,a),children:[o("div",{className:s.title,children:n}),t?o("button",{className:s.refreshButton,onClick:r,children:o(Wi,{className:s.refreshIcon})}):null]})}),Qc=e=>({container:{...e.typography["body-lg-med"],color:e.palette.text.middle,display:"flex",flexDirection:"column",gap:"8px"},titleToggle:{...e.typography["body-lg"],color:e.palette.text.dark,display:"flex",gap:"8px",alignItems:"center",background:"transparent",padding:0,margin:0,border:"none",boxShadow:"none",outline:"none",cursor:"pointer"},title:{display:"flex",alignItems:"center",gap:"4px"},valueIcon:{marginLeft:"auto",display:"flex",alignItems:"center"},value:{display:"flex",alignItems:"center",gap:"4px"},excessSlippage:{},warning:{color:"#D19847"},danger:{color:"#D15347"},icon:{},selector:{border:"2px solid #363B63",borderRadius:"8px",display:"flex",alignItems:"center",width:"100%",overflow:"hidden","& > $option:first-child":{borderTopLeftRadius:"0",borderBottomLeftRadius:"0"},"& > $option:last-child":{borderTopRightRadius:"0",borderBottomRightRadius:"0"}},option:{...e.typography["body-lg"],color:e.palette.text.dark,flexBasis:"auto",flexShrink:0,flexGrow:1,borderRadius:"8px",background:"transparent",padding:"6px 16px",margin:0,border:"none",boxShadow:"none",outline:"none",textTransform:"none","&:hover":{backgroundColor:"#2D3153"}},button:{cursor:"pointer"},selected:{color:e.palette.text.light,backgroundColor:"#2D3153"},custom:{width:"5em",flexShrink:0,flexGrow:2,position:"relative","& > $option":{borderTopRightRadius:"0",borderBottomRightRadius:"0"}},customPlaceholder:{cursor:"pointer",textAlign:"center",color:e.palette.text.dark,position:"absolute",top:0,left:0,width:"100%",height:"100%"},customInput:{textAlign:"center",width:"100%",color:e.palette.text.light},customHidden:{opacity:0,pointerEvents:"none"},tooltipTrigger:{width:"16px",height:"16px",margin:0,display:"block","& svg":{width:"16px",height:"16px",display:"block"}}}),Va=c.memo(function({Icon:n=ma,iconProps:t,title:a,content:s,...i}){return o(ii,{...i,content:o(en,{title:a,content:s}),children:o(n,{...t})})}),Wa=T(Qc),$n=[.1,.5,1,3].map(e=>e/100),Zc=1/100,Mn=5/100,wt=10/100,Yc=.1,St=49;function Xc(e){const n=new RegExp("^[0-9]*\\.?[0-9]*$");return!!e.match(n)}function En(e){const n=e.replace(/[^0-9.]+/g,"").replace(/\.$/,"");return parseFloat(n)}function Jc(e,n,t,a){if(isNaN(e)||!isFinite(e))e=n;else{const s=10**a;e=Math.floor(e*s)/s}return e<n?e=n:e>t&&(e=t),e}function ed(e,n=1){return e<0?"":e.toLocaleString("en-US",{minimumFractionDigits:0,maximumFractionDigits:n,useGrouping:!1})}const td=c.memo(function({onChange:n,onFocus:t,value:a,placeholder:s,className:i,isCustom:r}){const l=Wa(),[d,u]=c.useState(!1),[h,f]=c.useState(""),b=c.useRef(),g=!d&&!r,C=c.useCallback(()=>{b.current.focus()},[b]),v=c.useCallback(N=>{const w=N.target.value;if(!Xc(w))return;const P=En(w);if(isNaN(P)||!isFinite(P)||P<0){f("");return}if(P>St){f(St.toString());return}f(w)},[f]),y=c.useCallback(()=>{u(!1),n(Jc(En(h),Yc,St,1)),t(!1)},[t,h,n,u]),x=c.useCallback(N=>{N.target.select(),u(!0),t(!0)},[t]);return c.useEffect(()=>{d||f(typeof a=="number"&&a>=0?ed(a):"")},[a,f,d]),m("div",{className:I(i,l.custom),children:[o("input",{className:I(l.option,l.customInput,{[l.customHidden]:g}),inputMode:"decimal",value:h,onChange:v,onBlur:y,onFocus:x,ref:b}),g?o("button",{className:I(l.option,l.button,l.customPlaceholder),onClick:C,children:s}):null]})}),nd=c.memo(function({onChange:n,value:t,...a}){const s=c.useCallback(()=>n(t*100),[n,t]);return o("button",{onClick:s,...a,children:Me(t,1)})}),ad=c.memo(function({className:n}){const t=Wa(),{t:a}=k(),s=M(),[i,r]=c.useState(!1),l=p(Os),d=c.useCallback(()=>r(v=>!v),[r]),u=i?sn:dt,h=c.useMemo(()=>$n.findIndex(v=>v===l),[l]),f=h===-1,[b,g]=c.useState(!1),C=c.useCallback(v=>{s(ee.setSlippage({slippage:v?v/100:Zc}))},[s]);return m("div",{className:I(t.container,n),children:[m("button",{className:t.titleToggle,onClick:d,children:[m("div",{className:t.title,children:[a("Transact-Slippage"),o(tn,{triggerClass:t.tooltipTrigger,content:o(en,{title:a("Transact-Slippage-Explainer")})})]}),m("div",{className:t.valueIcon,children:[m("div",{className:I(t.value,{[t.warning]:l>=Mn,[t.danger]:l>=wt}),children:[l>=Mn?o(Va,{triggerClass:t.tooltipTrigger,title:a(`Transact-Slippage-Explainer-${l>=wt?"Danger":"Warning"}`,{slippage:Me(l,1)}),Icon:l>=wt?Vs:Ws}):null,Me(l,1)]}),o(u,{className:t.icon})]})]}),i?m("div",{className:t.selector,children:[$n.map((v,y)=>o(nd,{value:v,onChange:C,className:I(t.option,t.button,{[t.selected]:!b&&h===y})},v)),o(td,{className:I({[t.selected]:b||f}),placeholder:a("Transact-Slippage-Custom"),value:l*100,onChange:C,onFocus:g,isCustom:f})]}):null]})}),Fa=T(vc),_a=c.memo(function({title:n,className:t}){const a=Fa(),s=M(),i=p(qt),r=p(Ht),l=p(Fs),d=p(Zn),u=p(_s),h=p(mt),f=c.useMemo(()=>Pi((b,g)=>{g.lte(V)?b(ee.clearQuotes()):b(Hs())},200,{leading:!0,trailing:!0,maxWait:1e3}),[]);return c.useEffect(()=>{f(s,r)},[s,i,d,u,r,l,f]),h===_.Idle?null:m("div",{className:I(a.container,t),children:[o(Ac,{className:a.divider}),o(Kc,{title:n,enableRefresh:h===_.Fulfilled||h===_.Rejected}),h===_.Pending?o(od,{}):null,h===_.Fulfilled?o(id,{}):null,h===_.Rejected?o(sd,{}):null]})}),sd=c.memo(function(){const{t:n}=k(),t=p(Gs);return m(Ie,{children:[o("p",{children:n("Transact-Quote-Error")}),t&&t.message?o("p",{children:t.message}):null]})}),od=c.memo(function(){return o(Sc,{})}),id=c.memo(function(){const n=Fa(),t=p(Qe),a=Ut(t);return m(B,{children:[o("div",{className:n.tokenAmounts,children:t.outputs.map(({token:s,amount:i})=>o(wc,{amount:i,chainId:s.chainId,tokenAddress:s.address},s.address))}),a?m(B,{children:[o(jc,{quote:t,className:n.route}),o(ad,{className:n.slippage})]}):null]})}),rd=e=>({container:{border:"solid 2px #2D3153",borderRadius:"8px",padding:"12px"},transactionFees:{display:"grid",gridTemplateColumns:"repeat(2, minmax(0, 1fr))",gap:"4px"},performanceFees:{...e.typography["body-sm"],color:e.palette.text.dark,marginTop:"12px"},tooltipTrigger:{width:"16px",height:"16px",margin:0,verticalAlign:"middle","& svg":{width:"16px",height:"16px"}}}),ld={stakers:"Transact-Fee-Holder",treasury:"Transact-Fee-Treasury",strategist:"Transact-Fee-Developers",call:"Transact-Fee-HarvestFee"},cd=c.memo(function({fees:n}){const{t}=k(),a=Object.entries(ld).filter(([s])=>s in n).map(([s,i])=>({label:t(i),value:`${ye(n[s],2,"0%")}`}));return a.push({label:t("Transact-Fee-TotalFee"),value:`${ye(n.total,2,"0%")}`}),o(qe,{rows:a})}),dd=T(e=>({label:{...e.typography["subline-sm"],color:e.palette.text.dark,display:"flex",alignItems:"center",gap:"4px"}})),Mt=c.memo(function({children:n}){const t=dd();return o("div",{className:t.label,children:n})}),ud=T(e=>({value:{...e.typography["body-sm-med"],color:e.palette.text.middle,textAlign:"right"}})),Et=c.memo(function({children:n}){const t=ud();return o("div",{className:t.value,children:n})}),Ga=T({trigger:{width:"16px",height:"16px",margin:0,verticalAlign:"middle","& svg":{width:"16px",height:"16px"}}}),Pt=c.memo(function({title:n,content:t}){const a=Ga();return o(tn,{triggerClass:a.trigger,content:o(en,{title:n,content:t})})}),pd=c.memo(function(n){const t=Ga();return o(tn,{triggerClass:t.trigger,...n})}),md=T(e=>({original:{color:e.palette.text.dark,textDecoration:"line-through"},discounted:{color:e.palette.text.light,background:"#59A662",padding:"0 4px",borderRadius:"4px",marginRight:"10px"}})),hd=c.memo(function(){const n=p(Qe);return n&&Ut(n)?o(fd,{optionId:n.optionId}):null}),fd=c.memo(function({optionId:n}){const{t,i18n:a}=k(),s=p(h=>We(h,n)),i=md(),r=s.providerId,l=s.fee,d=Us(l),u=c.useMemo(()=>{const h=d?[`Transact-Fee-Zap-Explainer-Discount-${r}`,`Transact-Fee-Zap-Explainer-${r}`]:`Transact-Fee-Zap-Explainer-${r}`;return a.exists(h)?t(h):void 0},[t,a,r,d]);return m(B,{children:[m(Mt,{children:[t("Transact-Fee-Zap")," ",o(Pt,{title:t("Transact-Fee-Zap-Explainer"),content:u})]}),o(Et,{children:d?m(B,{children:[o("span",{className:i.discounted,children:Me(l.value,2,2,!0)}),o("span",{className:i.original,children:Me(l.original,2,2,!0)})]}):Me(l.value)})]})}),gd=T(rd),Ha=c.memo(function({className:n}){const t=gd(),{t:a}=k(),s=p(X),i=p(d=>js(d,s)),r=p(zs),l=p(d=>qs(d,s));return m("div",{className:I(t.container,n),children:[m("div",{className:t.transactionFees,children:[m(Mt,{children:[a("Transact-Fee-Deposit")," ",o(Pt,{title:a("Transact-Fee-Deposit-Explainer")})]}),o(Et,{children:r?i?i.deposit!==void 0?ye(i.deposit,2,"0%"):l:"?":o(we,{placeholder:"0.0%"})}),m(Mt,{children:[a("Transact-Fee-Withdraw")," ",o(Pt,{title:a("Transact-Fee-Withdraw-Explainer")})]}),o(Et,{children:r?i?ye(i.withdraw,2,"0%"):"?":o(we,{placeholder:"0.0%"})}),o(hd,{})]}),o("div",{className:t.performanceFees,children:o(Y,{t:a,i18nKey:"Transact-Fee-Performance-Explainer",components:{PerformanceTooltip:i?o(pd,{content:o(cd,{fees:i})}):o("span",{})}})})]})}),bd=c.memo(function({vaultId:n,className:t}){const{t:a,i18n:s}=k(),{status:i,retireReason:r,pauseReason:l}=p(u=>$(u,n)),d=c.useMemo(()=>{let u=null,h=null;if(i==="eol"?(u="RetireReason",h=r):i==="paused"&&(u="PauseReason",h=l),u){let f=`Vault-${u}-default`;if(h){const b=`Vault-${u}-${h}`;s.exists(b)&&(f=b)}return a(f)}return null},[a,s,i,r,l]);return d?o(Ae,{className:t,children:d}):null}),Ua=T(Vl),yd=c.memo(function(){const n=p(Zn),t=p(Ks),a=p(i=>t.length&&n?q(i,n,t[0]):void 0),s=p(i=>a?Ne(i,a.chainId,a.address):void 0);return!n||!t.length||!a||!s?o(we,{placeholder:"0.0000000 BNB-BIFI"}):o(Z,{amount:s,token:a,minShortPlaces:4})}),vd=c.memo(function(){const{t:n}=k(),t=Ua(),a=p(Yn),s=p(Xn),i=a===_.Idle||a===_.Pending,r=a===_.Rejected,l=p(X),d=p(u=>$(u,l));return o("div",{className:t.container,children:d.status!=="active"?o(bd,{vaultId:l}):i?o(nn,{text:n("Transact-Loading")}):r?o(Ie,{children:n("Transact-Options-Error",{error:jt(s)})}):o(xd,{})})}),xd=c.memo(function(){const{t:n}=k(),t=Ua(),a=p(Gt)>1;return m(B,{children:[m("div",{className:t.labels,children:[o("div",{className:t.selectLabel,children:n(a?"Transact-SelectToken":"Transact-Deposit")}),m("div",{className:t.availableLabel,children:[n("Transact-Available")," ",o("span",{className:t.availableLabelAmount,children:o(yd,{})})]})]}),m("div",{className:t.inputs,children:[o(Da,{}),o(Ql,{})]}),o(Xl,{className:t.links}),o(_a,{title:n("Transact-YouDeposit"),className:t.quote}),o(gc,{className:t.actions}),o(Ha,{className:t.fees})]})}),kd=e=>({container:{padding:"24px"},stakedInBoost:{marginBottom:"24px"},labels:{display:"flex",flexWrap:"nowrap",alignItems:"baseline",gap:"8px",marginBottom:"4px"},selectLabel:{...e.typography["body-lg"],color:e.palette.text.dark},availableLabel:{...e.typography["body-sm"],color:e.palette.text.dark,marginLeft:"auto"},availableLabelAmount:{...e.typography["body-sm-med"],color:e.palette.text.middle},inputs:{display:"flex",flexWrap:"nowrap",gap:"12px"},links:{marginTop:"12px"},quote:{marginTop:"12px"},actions:{marginTop:"24px",display:"flex",flexDirection:"column",gap:"24px",width:"100%"},fees:{marginTop:"24px"}}),Cd=()=>({input:{}}),Td=T(Cd),wd=c.memo(function({className:n}){const t=M(),a=Td(),s=p(X),i=p(h=>$(h,s)),r=p(h=>q(h,i.chainId,i.depositTokenAddress)),l=p(h=>Jn(h,s)),d=p(Ht),u=c.useCallback((h,f)=>{t(ee.setInputAmount({amount:h.decimalPlaces(r.decimals,H.ROUND_FLOOR),max:f}))},[t,r]);return o(La,{className:I(a.input,n),value:d,maxValue:l,maxDecimals:r.decimals,onChange:u})}),Sd=()=>({buttons:{display:"flex",flexDirection:"column",gap:"8px",width:"100%"}}),Nd=[{inputs:[],name:"iToken",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"}],Id=["scream-tusd","scream-frax"];async function Ad(e,n,t){const a=await qn(n),i=await new a.eth.Contract(Qs,e.earnContractAddress).methods.strategy().call(),l=await new a.eth.Contract(Nd,i).methods.iToken().call(),d=new a.eth.Contract(Zs,e.depositTokenAddress),u=new Kn.MultiCall(a,n.multicallAddress),[[h]]=await u.all([[{strategy:d.methods.balanceOf(i),iToken:d.methods.balanceOf(l)}]]),f=new H(h.strategy||"0").shiftedBy(-t.decimals),b=new H(h.iToken||"0").shiftedBy(-t.decimals);return f.plus(b).toNumber()}const Bd=c.memo(function({vaultId:n,onChange:t}){const a=p(b=>$(b,n)),s=p(b=>z(b,a.chainId)),i=p(b=>q(b,a.chainId,a.depositTokenAddress)),r=c.useCallback(()=>Ad(a,s,i),[a,s,i]),{execute:l,status:d,value:u}=Ca(r,0),[h,f]=c.useState(!1);return c.useEffect(()=>{const b=setInterval(l,3e4);return()=>clearInterval(b)},[l]),c.useEffect(()=>{h===!1&&d==="success"&&f(!0)},[d,h,f]),c.useEffect(()=>{t(h&&u===0)},[u,h,t]),m(Ae,{children:[o("p",{children:"There is limited liquidity in the underlying protocol to withdraw."}),h?m("p",{children:[o("strong",{children:"Available liquidity:"})," ",u.toLocaleString("en-US",{maximumFractionDigits:i.decimals})," ",i.symbol]}):null]})}),Dd=c.memo(function({vaultId:n,onChange:t}){return Id.includes(n)?o(Bd,{vaultId:n,onChange:t}):null}),ja=T(Sd),Ld=c.memo(function(){const n=p(X);return p(a=>Ys(a,n))?o($d,{}):o(Rd,{})}),Rd=c.memo(function(){const n=p(mt),t=p(Qe),a=p(r=>t?We(r,t.optionId):null),s=p(ve),i=p(xe);return s?a&&a.chainId!==i?o(mn,{chainId:a.chainId}):!a||!t||n!==_.Fulfilled?o(za,{}):o(Md,{quote:t,option:a}):o(pn,{})}),$d=c.memo(function(){const n=ja(),t=p(X),a=p(f=>Xs(f,t)),s=p(mt),i=p(Qe),r=p(f=>i?We(f,i.optionId):null),l=p(ve),u=p(xe)===a.chainId,h=r&&i&&Js(i)&&s===_.Fulfilled;return l?u?o(B,{children:h?o(Ed,{quote:i,option:r,vault:a}):m("div",{className:n.buttons,children:[o(za,{}),o(qa,{vault:a})]})}):o(mn,{chainId:a.chainId}):o(pn,{})}),za=c.memo(function({className:n}){const{t}=k();return o(F,{variant:"success",disabled:!0,fullWidth:!0,borderless:!0,className:n,children:t("Transact-Withdraw")})}),Md=c.memo(function({option:n,quote:t}){const{t:a}=k(),s=M(),[i,r]=c.useState(!1),[l,d]=c.useState(!1),[u,h]=c.useState(!1),[f,b]=c.useState(!1),g=p(me),C=c.useMemo(()=>t.inputs.every(x=>x.max===!0),[t]),v=g||i||l||u||f,y=c.useCallback(()=>{s(zt(t,a))},[s,t,a]);return m(B,{children:[n.chainId==="emerald"?o(dn,{}):null,o(Dd,{vaultId:n.vaultId,onChange:b}),o(hc,{vaultId:n.vaultId,onChange:h}),o(cn,{quote:t,onChange:r}),o(un,{onChange:d}),o(F,{variant:"success",disabled:v,fullWidth:!0,borderless:!0,onClick:y,children:a(C?"Transact-WithdrawAll":"Transact-Withdraw")})]})}),Ed=c.memo(function({option:n,quote:t,vault:a}){const{t:s}=k(),i=ja(),r=M(),[l,d]=c.useState(!1),[u,h]=c.useState(!1),f=p(me),b=c.useMemo(()=>t.inputs.every(v=>v.max===!0),[t]),g=f||l||u,C=c.useCallback(()=>{r(zt(t,s))},[r,t,s]);return m(B,{children:[n.chainId==="emerald"?o(dn,{}):null,o(cn,{quote:t,onChange:d}),o(un,{onChange:h}),m("div",{className:i.buttons,children:[o(F,{variant:"success",disabled:g,fullWidth:!0,borderless:!0,onClick:C,children:s(b?t.outputs.length>1?"Transact-ClaimWithdrawAll":"Transact-WithdrawAll":"Transact-Withdraw")}),o(qa,{vault:a})]})]})}),qa=c.memo(function({vault:n}){const{t}=k(),a=M(),s=p(d=>ea(d,n.id)),r=p(me)||s.lte(V),l=c.useCallback(()=>{a(eo(n,t))},[a,n,t]);return o(F,{variant:"success",disabled:r,fullWidth:!0,borderless:!0,onClick:l,children:t("Transact-ClaimRewards")})}),Pd=e=>({container:{...e.typography["body-lg"],color:e.palette.text.middle,padding:"8px 12px",borderRadius:"8px",display:"flex",gap:"8px",background:"#2D3153"},icon:{width:"24px",height:"24px",flexGrow:0,flexShrink:0},text:{flexGrow:1,flexShrink:1},tokenAmount:{fontWeight:e.typography["body-lg-med"].fontWeight,color:"#DB8332"}}),Od=T(Pd),Vd=c.memo(function({className:n}){const t=Od(),{t:a}=k(),s=p(X),i=p(l=>to(l,s)),r=p(l=>no(l,s));return!i||!r||r.lte(V)?null:m("div",{className:I(t.container,n),children:[o(ln,{chainId:i.chainId,tokenAddress:i.address,className:t.icon}),o("div",{className:t.text,children:o(Y,{t:a,i18nKey:"Transact-StakedInBoost",values:{symbol:i.symbol},components:{amount:o(Z,{amount:r,token:i}),orange:o("span",{className:t.tokenAmount})}})})]})}),Wd=e=>({btnContainer:{display:"flex",flexWrap:"wrap",columnGap:"8px",rowGap:"8px"},btnSecondary:{...e.typography["body-lg"],textDecoration:"none",color:e.palette.text.secondary,backgroundColor:e.palette.background.vaults.defaultOutline,borderRadius:"4px",transition:"color 0.2s",padding:"2px 8px",width:"max-content","&:hover":{color:e.palette.text.primary,backgroundColor:"#3F466D",transition:"color 0.1s"}}}),Fd=T(Wd),_d=c.memo(function({className:n}){const t=Fd(),{t:a}=k(),s=p(X),i=p(l=>$(l,s));return i.removeLiquidityUrl?o("div",{className:I(t.btnContainer,n),children:i.removeLiquidityUrl&&o(ae,{href:i.removeLiquidityUrl,text:a("Transact-RemoveLiquidity")})}):null}),Ka=T(kd),Gd=c.memo(function(){const n=p(X),t=p(i=>$(i,n)),a=p(i=>t?q(i,t.chainId,t.depositTokenAddress):null),s=p(i=>t&&a?Jn(i,n):null);return!t||!a||!s?o(we,{placeholder:"0.0000000 BNB-BIFI"}):o(Z,{amount:s,token:a,minShortPlaces:4})}),Hd=c.memo(function(){const{t:n}=k(),t=Ka(),a=p(Yn),s=p(Xn),i=a===_.Idle||a===_.Pending,r=a===_.Rejected;return o("div",{className:t.container,children:i?o(nn,{text:n("Transact-Loading")}):r?o(Ie,{children:n("Transact-Options-Error",{error:jt(s)})}):o(Ud,{})})}),Ud=c.memo(function(){const{t:n}=k(),t=Ka(),a=p(Gt)>1;return m(B,{children:[o(Vd,{className:t.stakedInBoost}),m("div",{className:t.labels,children:[o("div",{className:t.selectLabel,children:n(a?"Transact-SelectToken":"Transact-Withdraw")}),m("div",{className:t.availableLabel,children:[n("Transact-Available")," ",o("span",{className:t.availableLabelAmount,children:o(Gd,{})})]})]}),m("div",{className:t.inputs,children:[o(Da,{}),o(wd,{})]}),o(_d,{className:t.links}),o(_a,{title:n("Transact-YouWithdraw"),className:t.quote}),o("div",{className:t.actions,children:o(Ld,{})}),o(Ha,{className:t.fees})]})}),jd=T(Ml),zd={[le.Deposit]:vd,[le.Withdraw]:Hd},qd=c.memo(function(){const{t:n}=k(),t=M(),a=jd(),s=p(qt),i=p(X),r=zd[s],l=c.useCallback(u=>{t(ee.switchMode(le[u]))},[t]),d=c.useMemo(()=>[{value:le[le.Deposit],label:n("Transact-Deposit")},{value:le[le.Withdraw],label:n("Transact-Withdraw")}],[n]);return c.useEffect(()=>{t(ao({vaultId:i,mode:s}))},[t,s,i]),m("div",{className:a.container,children:[o(Pl,{selected:le[s],options:d,onChange:l}),o(r,{})]})}),Kd=()=>({container:{}}),Qd=e=>({container:{...e.typography["body-lg-med"],position:"relative",color:"#D0D0DA",background:"#111321",padding:"16px 24px",borderTopLeftRadius:"12px",borderTopRightRadius:"12px",display:"flex",columnGap:"12px",alignItems:"center","&::after":{content:'""',position:"absolute",left:0,bottom:0,right:0,height:"2px",background:"#363B63"}},backButton:{margin:0,padding:0,borderRadius:"50%",width:"24px",height:"24px",background:"#363B63",boxShadow:"none",cursor:"pointer",border:"none",color:"#F5F5FF",flexShrink:0,flexGrow:0,display:"flex",alignItems:"center",justifyContent:"center"},backIcon:{fill:"#F5F5FF",width:"12px",height:"9px"}}),Zd=T(Qd),Qa=c.memo(function({onBack:n,children:t}){const a=Zd();return m("div",{className:a.container,children:[n?o("button",{onClick:n,className:a.backButton,children:o(Mi,{className:a.backIcon})}):null,t]})}),Za=e=>({container:{padding:"24px 0 0 0",height:"400px",width:"100%",display:"flex",flexDirection:"column",borderRadius:"0 0 12px 12px",overflow:"hidden"},search:{padding:"0 24px",margin:"0 0 24px 0"},searchInput:{background:"#111321"},chainSelector:{padding:"0 24px",margin:"0 0 16px 0"},walletToggle:{display:"grid",gridTemplateColumns:"repeat(2, 1fr)",gap:"24px",padding:"0 24px",margin:"0 0 16px 0"},inWallet:{...e.typography["body-lg"],color:"#999CB3"},hideDust:{textAlign:"right"},listContainer:{flexGrow:1,height:"100%"},list:{padding:"0 24px 24px 24px",minHeight:"100px",display:"flex",flexDirection:"column",rowGap:"16px",overflowY:"auto"},noResults:{padding:"8px 12px",borderRadius:"8px",background:"#2D3153"}}),Yd=e=>({item:{...e.typography["body-lg-med"],display:"flex",alignItems:"center",width:"100%",color:"#999CB3",background:"transparent",border:"none",boxShadow:"none",padding:0,margin:0,cursor:"pointer",userSelect:"none",outline:"none","&:hover, &:focus-visible":{color:"#D0D0DA","& $arrow":{color:"#fff"}}},icon:{width:"24px",height:"24px",marginRight:"8px"},symbol:{marginRight:"auto"},balance:{},arrow:{marginLeft:"12px",color:"#D0D0DA",height:"24px"}}),Xd=T(Yd),Ya=c.memo(function({tokenId:n,tokens:t,balance:a,className:s,onSelect:i}){const r=Xd(),l=c.useCallback(()=>i(n),[i,n]),d=c.useMemo(()=>t.map(u=>u.symbol),[t]);return m("button",{className:I(r.item,s),onClick:l,children:[o(Ba,{tokens:t,className:r.icon}),o("div",{className:r.symbol,children:o(ht,{items:d})}),a?o("div",{className:r.balance,children:re(a,4)}):null,o(xa,{className:r.arrow})]})}),Jd=e=>({label:{...e.typography["subline-sm"],position:"relative",color:"#999CB3",display:"inline-flex",alignItems:"center",gap:"8px",cursor:"pointer"},input:{position:"absolute",opacity:0,overflow:"hidden",height:0,width:0},channel:{position:"relative",background:"#0F0F0F",width:"44px",height:"24px",borderRadius:"40px"},dot:{position:"absolute",top:"2px",left:"2px",width:"20px",height:"20px",borderRadius:"50%",background:"#313759",transition:"background-color 0.4s ease, left 0.4s ease"},dotChecked:{backgroundColor:"#59A662",left:"22px"}}),eu=T(Jd),tu=c.memo(function({checked:n,onChange:t,startAdornment:a,endAdornment:s,className:i}){const r=eu(),l=c.useCallback(d=>{t(d.target.checked)},[t]);return m("label",{className:I(r.label,i),children:[a??null,o("input",{type:"checkbox",value:"1",checked:n,onChange:l,className:r.input}),o("div",{className:r.channel,children:o("div",{className:I(r.dot,{[r.dotChecked]:n})})}),s??null]})}),nu=T(Za),au=new H("0.01"),su=c.memo(function({className:n}){const{t}=k(),a=M(),s=nu(),i=p(X),r=p(y=>$(y,i)),[l,d]=c.useState(!1),[u]=c.useState(r.chainId),[h,f]=c.useState(""),b=p(y=>so(y,u)),g=c.useMemo(()=>{let y=b;return h.length&&(y=y.filter(x=>x.tokens.map(N=>N.symbol).join(" ").toLowerCase().includes(h.toLowerCase()))),l&&(y=y.filter(x=>x.balanceValue.gte(au))),y},[b,h,l]),C=c.useCallback(y=>{a(ee.selectToken({tokensId:y,resetInput:!0}))},[a]),v=c.useCallback(y=>{d(y)},[d]);return m("div",{className:I(s.container,n),children:[o("div",{className:s.search,children:o(ka,{value:h,onChange:f,className:s.searchInput})}),m("div",{className:s.walletToggle,children:[o("div",{className:s.inWallet,children:t("Transact-TokenSelect-InYourWallet")}),o("div",{className:s.hideDust,children:o(tu,{checked:l,onChange:v,startAdornment:t("Transact-TokenSelect-HideDust")})})]}),o(an,{className:s.listContainer,children:o("div",{className:s.list,children:g.length?g.map(y=>o(Ya,{tokenId:y.id,tokens:y.tokens,balance:y.balance,chainId:u,onSelect:C},y.id)):o("div",{className:s.noResults,children:t("Transact-TokenSelect-NoResults")})})})]})}),ou=T(Za),iu=c.memo(function({className:n}){const{t}=k(),a=M(),s=ou(),i=p(X),r=p(g=>$(g,i)),[l]=c.useState(r.chainId),[d,u]=c.useState(""),h=p(g=>oo(g,l)),f=c.useMemo(()=>{let g=h;return d.length&&(g=g.filter(C=>C.tokens.map(v=>v.symbol).join(" ").toLowerCase().includes(d.toLowerCase()))),g},[h,d]),b=c.useCallback(g=>{a(ee.selectToken({tokensId:g,resetInput:!1}))},[a]);return m("div",{className:I(s.container,n),children:[o("div",{className:s.search,children:o(ka,{value:d,onChange:u,className:s.searchInput})}),o(an,{className:s.listContainer,children:o("div",{className:s.list,children:f.length?f.map(g=>o(Ya,{tokenId:g.id,tokens:g.tokens,chainId:l,onSelect:b},g.id)):o("div",{className:s.noResults,children:t("Transact-TokenSelect-NoResults")})})})]})}),ru=T(Kd),lu=c.memo(function(){const{t:n}=k(),t=M(),a=ru(),s=p(qt),i=c.useCallback(()=>{t(ee.switchStep(ce.Form))},[t]);return m("div",{className:a.container,children:[o(Qa,{onBack:i,children:n("Transact-SelectToken")}),s===le.Deposit?o(su,{}):o(iu,{})]})}),cu=()=>({container:{},select:{padding:"24px 0 0 0",height:"400px",width:"100%",display:"flex",flexDirection:"column",borderRadius:"0 0 12px 12px",overflow:"hidden"},listContainer:{flexGrow:1,height:"100%"},list:{padding:"0 24px 24px 24px",minHeight:"100px",display:"flex",flexDirection:"column",rowGap:"16px",overflowY:"auto"}}),du=e=>({item:{...e.typography["body-lg-med"],display:"flex",alignItems:"center",width:"100%",color:"#999CB3",background:"transparent",border:"none",boxShadow:"none",padding:0,margin:0,cursor:"pointer",userSelect:"none",outline:"none","&:hover, &:focus-visible":{color:"#D0D0DA","& $arrow":{color:"#fff"}}},provider:{marginRight:"auto"},output:{},arrow:{marginLeft:"12px",color:"#D0D0DA",height:"24px"}}),uu=T(du),pu=c.memo(function({quoteId:n,className:t,onSelect:a}){const s=uu(),i=p(u=>io(u,n)),r=p(u=>We(u,i.optionId)),l=c.useCallback(()=>a(n),[a,n]),d=c.useMemo(()=>i.outputs.map(u=>o(Z,{token:u.token,amount:u.amount},u.token.id)),[i]);return m("button",{className:I(s.item,t),onClick:l,children:[o(Pa,{providerId:r.providerId,className:s.provider}),o("div",{className:s.output,children:o(ht,{items:d})}),o(xa,{className:s.arrow})]})}),mu=T(cu),hu=c.memo(function(){const{t:n}=k(),t=M(),a=mu(),s=p(Qn),i=c.useCallback(()=>{t(ee.switchStep(ce.Form))},[t]),r=c.useCallback(l=>{t(ee.selectQuote({quoteId:l}))},[t]);return m("div",{className:a.container,children:[o(Qa,{onBack:i,children:n("Transact-SelectProvider")}),o("div",{className:a.select,children:o(an,{className:a.listContainer,children:o("div",{className:a.list,children:s.map(l=>o(pu,{quoteId:l,onSelect:r},l))})})})]})}),fu={[ce.Loading]:$l,[ce.Form]:qd,[ce.TokenSelect]:lu,[ce.QuoteSelect]:hu},gu=c.memo(function({vaultId:n}){const t=p(ro),s=p(X)===n?t:ce.Loading,i=fu[s],r=M();return c.useEffect(()=>{r(lo({vaultId:n}))},[r,n]),o(ke,{children:o(i,{},s)})}),Xa=e=>({container:{padding:e.spacing(3),backgroundColor:e.palette.background.default,borderRadius:"12px"},containerBoost:{padding:e.spacing(3),borderRadius:"12px",backgroundColor:e.palette.background.default,display:"flex",flexDirection:"column",rowGap:"16px"},containerExpired:{display:"flex",flexDirection:"column",rowGap:"16px",padding:"24px",backgroundColor:e.palette.background.default,borderRadius:"12px",marginTop:e.spacing(3)},boostImg:{width:30,height:30,marginLeft:"-8px"},title:{...e.typography.h2,color:"#E88225",display:"flex",alignItems:"center"},titleWhite:{color:"#fff"},titleTooltipTrigger:{color:e.palette.text.secondary,fontSize:"20px",width:"20px",height:"20px",marginLeft:"8px","& .MuiSvgIcon-root":{fontSize:"inherit",display:"block"}},boostStats:{display:"grid",gridTemplateColumns:"repeat(2, minmax(0, 1fr))",columnGap:"16px",backgroundColor:"#2D3153",padding:"12px",borderRadius:"8px"},boostStat:{"& :last-child":{marginBottom:0}},boostStatLabel:{...e.typography["subline-sm"],color:"#999CB3"},boostStatValue:{...e.typography["body-lg-med"],color:e.palette.text.secondary},button:{backgroundColor:e.palette.background.vaults.defaultOutline,borderRadius:"8px"}});function bu({periodFinish:e}){const{t:n}=k(),[t,a]=c.useState(Date.now());c.useEffect(()=>{const r=setInterval(()=>a(Date.now()),1e3);return()=>clearInterval(r)});const s=(e==null?void 0:e.getTime())||0,i=s-t;return o(B,{children:i>0?co(s):n("Finished")})}const yu=(e,n)=>{const t=e.ui.boost.boostId;if(!t)return!1;const a=Ke(e,t),s=ta(e,a.vaultId),i=q(e,s.chainId,s.earnedTokenAddress),r=Kt(e,s.chainId,i.address,n),l=e.ui.boost.amount;return r.isLessThan(l)},vu=e=>({container:{padding:12,borderRadius:"8px",backgroundColor:"#2D3153"},title:{display:"flex",...e.typography["body-lg"],color:e.palette.text.secondary,alignItems:"center","&:Hover":{cursor:"pointer "}},iconButton:{padding:0,"& .MuiSvgIcon-root":{fill:"#999CB3"},"&:hover":{backgroundColor:"transparent"},marginRight:"4px"},text:{...e.typography["body-lg"],flexGrow:1},balance:{...e.typography["body-sm"],color:e.palette.text.secondary,"& span":{color:e.palette.text.disabled}},actions:{display:"flex",flexDirection:"column",marginTop:"8px",rowGap:"16px"},button:{backgroundColor:e.palette.background.vaults.defaultOutline,"&:Hover":{backgroundColor:"#272B4A"},"&:disabled":{borderColor:"transparent"}},maxButton:{...e.typography["subline-sm"],fontWeight:700,padding:"2px 6px",borderRadius:"4px",marginRight:`${8-2}px`,backgroundColor:e.palette.background.vaults.defaultOutline,borderColor:"transparent","&:disabled":{borderColor:"transparent"}},input:{color:"#D0D0DA",background:"#1B1E31",borderRadius:"8px",width:"100%",display:"flex",border:"solid 2px #1B1E31","& .MuiInputBase-input":{...e.typography.h3,padding:`${8-2}px 16px`,color:"#D0D0DA",height:"auto","&:focus":{color:"#F5F5FF"},"&::placeholder":{color:"#8A8EA8",opacity:1}},"& .MuiInputBase-inputAdornedEnd":{}}}),xu=T(vu),Pn=c.memo(function({type:n,boostId:t,open:a,handleCollapse:s,balance:i}){const{t:r}=k(),l=xu(),d=M(),u=p(D=>Ke(D,t)),h=p(D=>ta(D,u.vaultId)),f=p(D=>D.ui.boost),b=u.earnContractAddress,g=p(D=>yu(D,b)),C=p(D=>je(D,h.chainId,h.earnedTokenAddress)),v=p(D=>ut(D,u.id)),y=p(D=>Qt(D,u.id)),x=p(D=>pt(D,u.chainId)&&na(D.ui.dataLoader.global.boostForm)),N=p(D=>Ze(D)?aa(D):null),w=p(me),P=!x||f.amount.isLessThanOrEqualTo(0)||w,E=sa();R.useEffect(()=>{a&&uo(E,t,n,N)},[E,t,N,n,a]);const S=n==="stake",A=D=>{d(Bt.setInput({amount:D,withdraw:!S,state:E.getState()}))},O=()=>{d(Bt.setMax({state:E.getState()}))},W=()=>{S?(g&&d(te.addStep({step:{step:"approve",message:r("Vault-ApproveMsg"),action:ne.approval(C,b),pending:!1}})),d(te.addStep({step:{step:"stake",message:r("Vault-TxnConfirm",{type:r("Stake-noun")}),action:ne.stakeBoost(u,f.amount),pending:!1}}))):f.max?d(te.addStep({step:{step:"claim-unstake",message:r("Vault-TxnConfirm",{type:r("Claim-Unstake-noun")}),action:ne.exitBoost(u),pending:!1,extraInfo:{rewards:{token:v,amount:y}}}})):d(te.addStep({step:{step:"unstake",message:r("Vault-TxnConfirm",{type:r("Unstake-noun")}),action:ne.unstakeBoost(u,f.amount),pending:!1}})),d(Ee(u.chainId))};return m("div",{className:I(l.container),children:[m("div",{className:l.title,onClick:s,children:[o(po,{className:l.iconButton,children:a?o(sn,{}):o(dt,{})}),o("div",{className:l.text,children:r(S?"Boost-Button-Stake":"Boost-Button-Unstake")}),m("div",{className:l.balance,children:[r(S?"Available":"Staked")," ",o("span",{children:re(i,4)})]})]}),o(ga,{in:a,timeout:"auto",children:m("div",{className:l.actions,children:[o(Pe,{className:l.input,value:f.formattedInput,onChange:D=>A(D.target.value),fullWidth:!0,endAdornment:o(F,{disabled:!x||w,className:l.maxButton,onClick:O,children:"MAX"}),placeholder:"0"}),o(F,{borderless:!0,className:l.button,onClick:W,fullWidth:!0,disabled:P,children:r(S?"Boost-Button-Stake":"Boost-Button-Unstake")})]})})]})}),ku=T(Xa);function Cu({boostId:e,title:n}){const t=p(S=>Ke(S,e)),a=p(S=>$(S,t.vaultId)),s=p(S=>z(S,t.chainId)),i=p(S=>ut(S,t.id)),r=p(S=>Ne(S,t.chainId,a.earnedTokenAddress)),l=p(S=>oa(S,t.id)),d=p(S=>Qt(S,t.id)),{periodFinish:u,isPreStake:h}=p(S=>mo(S,t.id)),f=ku(),{t:b}=k(),g=M(),C=p(ve),v=p(S=>xe(S)===t.chainId),y=p(me),[x,N]=c.useState({stake:!1,unstake:!1}),w=c.useCallback(({stakeUnstake:S})=>{const A=S==="stake"?"unstake":"stake";x[S]&&g(Bt.reset()),x[A]&&x[S]===!1&&N(O=>({...O,[A]:!O[A]})),N(O=>({...O,[S]:!O[S]}))},[x,g]),P=S=>{if(!C)return g(de());if(!v)return g(ue({chainId:a.chainId}));g(te.addStep({step:{step:"claim-unstake",message:b("Vault-TxnConfirm",{type:b("Claim-Unstake-noun")}),action:ne.exitBoost(S),pending:!1,extraInfo:{rewards:{token:i,amount:d}}}})),g(Ee(s.id))},E=()=>{if(!C)return g(de());if(!v)return g(ue({chainId:a.chainId}));g(te.addStep({step:{step:"claim-boost",message:b("Vault-TxnConfirm",{type:b("Claim-noun")}),action:ne.claimBoost(t),pending:!1}})),g(Ee(s.id))};return m("div",{className:f.containerBoost,children:[m("div",{className:f.title,children:[o("span",{children:o(Y,{t:b,i18nKey:"Boost-Title",values:{title:n},components:{white:o("span",{className:f.titleWhite})}})}),o(Va,{title:b("Boost-WhatIs"),content:b("Boost-Explain"),triggerClass:f.titleTooltipTrigger})]}),m("div",{className:f.boostStats,children:[m("div",{className:f.boostStat,children:[o("div",{className:f.boostStatLabel,children:b("Boost-Rewards")}),m("div",{className:f.boostStatValue,children:[re(d,8)," ",i.symbol]})]}),h?o(B,{}):m("div",{className:f.boostStat,children:[o("div",{className:f.boostStatLabel,children:b("Boost-Ends")}),o("div",{className:f.boostStatValue,children:o(bu,{periodFinish:u})})]})]}),C?v?m(B,{children:[o(Pn,{boostId:e,type:"stake",open:x.stake,handleCollapse:()=>w({stakeUnstake:"stake"}),balance:r}),l.gt(0)&&m(B,{children:[o(Pn,{boostId:e,type:"unstake",open:x.unstake,handleCollapse:()=>w({stakeUnstake:"unstake"}),balance:l}),o(F,{disabled:y||d.isZero(),className:f.button,onClick:E,fullWidth:!0,borderless:!0,children:b("Boost-Button-Withdraw")}),o(F,{disabled:y||l.isZero()&&d.isZero(),className:f.button,onClick:()=>P(t),fullWidth:!0,borderless:!0,children:b("Boost-Button-Claim-Unstake")})]})]}):o(F,{onClick:()=>g(ue({chainId:a.chainId})),className:f.button,fullWidth:!0,borderless:!0,disabled:y,children:b("Network-Change",{network:s.name})}):o(F,{className:f.button,fullWidth:!0,borderless:!0,variant:"success",onClick:()=>g(de()),disabled:y,children:b("Network-ConnectWallet")})]})}var Ja={};Object.defineProperty(Ja,"__esModule",{value:!0});var Tu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Nt=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e},wu=function(){function e(n,t){for(var a=0;a<t.length;a++){var s=t[a];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(n,s.key,s)}}return function(n,t,a){return t&&e(n.prototype,t),a&&e(n,a),n}}(),Su=c,It=hn(Su),Nu=ho,Q=hn(Nu),Iu=Li,At=hn(Iu);function hn(e){return e&&e.__esModule?e:{default:e}}function J(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function Au(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function Bu(e,n){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n&&(typeof n=="object"||typeof n=="function")?n:e}function Du(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof n);e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(e,n):e.__proto__=n)}var es={animating:"rah-animating",animatingUp:"rah-animating--up",animatingDown:"rah-animating--down",animatingToHeightZero:"rah-animating--to-height-zero",animatingToHeightAuto:"rah-animating--to-height-auto",animatingToHeightSpecific:"rah-animating--to-height-specific",static:"rah-static",staticHeightZero:"rah-static--height-zero",staticHeightAuto:"rah-static--height-auto",staticHeightSpecific:"rah-static--height-specific"},Lu=["animateOpacity","animationStateClasses","applyInlineTransitions","children","contentClassName","delay","duration","easing","height","onAnimationEnd","onAnimationStart"];function Ru(e){for(var n=arguments.length,t=Array(n>1?n-1:0),a=1;a<n;a++)t[a-1]=arguments[a];if(!t.length)return e;for(var s={},i=Object.keys(e),r=0;r<i.length;r++){var l=i[r];t.indexOf(l)===-1&&(s[l]=e[l])}return s}function $u(e){var n=[];return n[0]=requestAnimationFrame(function(){n[1]=requestAnimationFrame(function(){e()})}),n}function On(e){e.forEach(function(n){return cancelAnimationFrame(n)})}function Ot(e){return!isNaN(parseFloat(e))&&isFinite(e)}function Vt(e){return typeof e=="string"&&e.search("%")===e.length-1&&Ot(e.substr(0,e.length-1))}function tt(e,n){e&&typeof e=="function"&&e(n)}var fn=function(e){Du(n,e);function n(t){Au(this,n);var a=Bu(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,t));a.animationFrameIDs=[];var s="auto",i="visible";Ot(t.height)?(s=t.height<0||t.height==="0"?0:t.height,i="hidden"):Vt(t.height)&&(s=t.height==="0%"?0:t.height,i="hidden"),a.animationStateClasses=Nt({},es,t.animationStateClasses);var r=a.getStaticStateClasses(s);return a.state={animationStateClasses:r,height:s,overflow:i,shouldUseTransitions:!1},a}return wu(n,[{key:"componentDidMount",value:function(){var a=this.state.height;this.contentElement&&this.contentElement.style&&this.hideContent(a)}},{key:"componentDidUpdate",value:function(a,s){var i=this,r=this.props,l=r.delay,d=r.duration,u=r.height,h=r.onAnimationEnd,f=r.onAnimationStart;if(this.contentElement&&u!==a.height){var b;this.showContent(s.height),this.contentElement.style.overflow="hidden";var g=this.contentElement.offsetHeight;this.contentElement.style.overflow="";var C=d+l,v=null,y={height:null,overflow:"hidden"},x=s.height==="auto";Ot(u)?(v=u<0||u==="0"?0:u,y.height=v):Vt(u)?(v=u==="0%"?0:u,y.height=v):(v=g,y.height="auto",y.overflow=null),x&&(y.height=v,v=g);var N=(0,At.default)((b={},J(b,this.animationStateClasses.animating,!0),J(b,this.animationStateClasses.animatingUp,a.height==="auto"||u<a.height),J(b,this.animationStateClasses.animatingDown,u==="auto"||u>a.height),J(b,this.animationStateClasses.animatingToHeightZero,y.height===0),J(b,this.animationStateClasses.animatingToHeightAuto,y.height==="auto"),J(b,this.animationStateClasses.animatingToHeightSpecific,y.height>0),b)),w=this.getStaticStateClasses(y.height);this.setState({animationStateClasses:N,height:v,overflow:"hidden",shouldUseTransitions:!x}),clearTimeout(this.timeoutID),clearTimeout(this.animationClassesTimeoutID),x?(y.shouldUseTransitions=!0,On(this.animationFrameIDs),this.animationFrameIDs=$u(function(){i.setState(y),tt(f,{newHeight:y.height})}),this.animationClassesTimeoutID=setTimeout(function(){i.setState({animationStateClasses:w,shouldUseTransitions:!1}),i.hideContent(y.height),tt(h,{newHeight:y.height})},C)):(tt(f,{newHeight:v}),this.timeoutID=setTimeout(function(){y.animationStateClasses=w,y.shouldUseTransitions=!1,i.setState(y),u!=="auto"&&i.hideContent(v),tt(h,{newHeight:v})},C))}}},{key:"componentWillUnmount",value:function(){On(this.animationFrameIDs),clearTimeout(this.timeoutID),clearTimeout(this.animationClassesTimeoutID),this.timeoutID=null,this.animationClassesTimeoutID=null,this.animationStateClasses=null}},{key:"showContent",value:function(a){a===0&&(this.contentElement.style.display="")}},{key:"hideContent",value:function(a){a===0&&(this.contentElement.style.display="none")}},{key:"getStaticStateClasses",value:function(a){var s;return(0,At.default)((s={},J(s,this.animationStateClasses.static,!0),J(s,this.animationStateClasses.staticHeightZero,a===0),J(s,this.animationStateClasses.staticHeightSpecific,a>0),J(s,this.animationStateClasses.staticHeightAuto,a==="auto"),s))}},{key:"render",value:function(){var a,s=this,i=this.props,r=i.animateOpacity,l=i.applyInlineTransitions,d=i.children,u=i.className,h=i.contentClassName,f=i.delay,b=i.duration,g=i.easing,C=i.id,v=i.style,y=this.state,x=y.height,N=y.overflow,w=y.animationStateClasses,P=y.shouldUseTransitions,E=Nt({},v,{height:x,overflow:N||v.overflow});P&&l&&(E.transition="height "+b+"ms "+g+" "+f+"ms",v.transition&&(E.transition=v.transition+", "+E.transition),E.WebkitTransition=E.transition);var S={};r&&(S.transition="opacity "+b+"ms "+g+" "+f+"ms",S.WebkitTransition=S.transition,x===0&&(S.opacity=0));var A=(0,At.default)((a={},J(a,w,!0),J(a,u,u),a)),O=typeof this.props["aria-hidden"]<"u",W=O?this.props["aria-hidden"]:x===0;return It.default.createElement("div",Nt({},Ru.apply(void 0,[this.props].concat(Lu)),{"aria-hidden":W,className:A,id:C,style:E}),It.default.createElement("div",{className:h,style:S,ref:function(L){return s.contentElement=L}},d))}}]),n}(It.default.Component),Mu=function(n,t,a){var s=n[t];return typeof s=="number"&&s>=0||Vt(s)||s==="auto"?null:new TypeError('value "'+s+'" of type "'+(typeof s>"u"?"undefined":Tu(s))+'" is invalid type for '+t+" in "+a+'. It needs to be a positive number, string "auto" or percentage string (e.g. "15%").')};fn.propTypes={"aria-hidden":Q.default.bool,animateOpacity:Q.default.bool,animationStateClasses:Q.default.object,applyInlineTransitions:Q.default.bool,children:Q.default.any.isRequired,className:Q.default.string,contentClassName:Q.default.string,delay:Q.default.number,duration:Q.default.number,easing:Q.default.string,height:Mu,id:Q.default.string,onAnimationEnd:Q.default.func,onAnimationStart:Q.default.func,style:Q.default.object};fn.defaultProps={animateOpacity:!1,animationStateClasses:es,applyInlineTransitions:!0,duration:250,delay:0,easing:"ease",style:{}};var Eu=Ja.default=fn;const Pu=e=>({title:{marginBottom:"12px",display:"flex"},expiredBoostName:{...e.typography["body-lg-med"],color:e.palette.text.primary,marginLeft:"8px"},expiredBoostContainer:{background:e.palette.background.content,borderRadius:"8px",padding:"12px"},balances:{display:"flex",columnGap:"8px",marginBottom:"12px"},balance:{...e.typography["body-sm"],color:e.palette.text.disabled,"& span":{color:e.palette.text.secondary}},button:{backgroundColor:e.palette.background.vaults.defaultOutline,"&:Hover":{backgroundColor:"#272B4A"},"&:disabled":{borderColor:"transparent"}}}),Ou=T(Pu),Vu=c.memo(function({boost:n}){const{t}=k(),a=Ou(),s=M(),i=p(h=>oa(h,n.id)),r=p(h=>ut(h,n.id)),l=p(h=>Qt(h,n.id)),d=p(me),u=h=>{s(te.addStep({step:{step:"claim-unstake",message:t("Vault-TxnConfirm",{type:t("Claim-Unstake-noun")}),action:ne.exitBoost(h),pending:!1}})),s(Ee(h.chainId))};return m("div",{className:a.expiredBoostContainer,children:[m("div",{className:a.title,children:[o(U,{size:24,chainId:n.chainId,assetIds:[r.id]}),o("div",{className:a.expiredBoostName,children:t("Boost-NameBoost",{name:n.name})})]}),m("div",{className:a.balances,children:[m("div",{className:a.balance,children:[t("Staked")," ",o("span",{children:re(i,4)})]}),m("div",{className:a.balance,children:[t("Earned")," ",m("span",{children:[re(l,4)," ",r.symbol]})]})]}),o(F,{onClick:()=>u(n),disabled:d,className:a.button,fullWidth:!0,borderless:!0,children:t("Boost-Button-Claim-Unstake")})]},n.id)}),Wu=T(Xa);function Fu({vaultId:e}){const n=p(h=>$(h,e)),t=p(h=>z(h,n.chainId)),a=p(h=>Ve(h,e)),s=Wu({isBoosted:a}),{t:i}=k(),r=M(),l=p(h=>fo(h,e).map(f=>Ke(h,f))),d=p(ve),u=p(h=>xe(h)===n.chainId);return l.length<=0?o(B,{}):m("div",{className:s.containerExpired,children:[o("div",{className:s.title,children:o("span",{children:o(Y,{t:i,i18nKey:"Boost-ExpiredBoost",components:{white:o("span",{className:s.titleWhite})}})})}),o(Eu,{duration:500,height:"auto",children:d?u?l.map(h=>o(Vu,{boost:h},h.id)):o(F,{onClick:()=>r(ue({chainId:n.chainId})),className:s.button,fullWidth:!0,borderless:!0,children:i("Network-Change",{network:t.name})}):o(F,{className:s.button,fullWidth:!0,borderless:!0,onClick:()=>r(de()),children:i("Network-ConnectWallet")})})]})}const _u=c.memo(function({vaultId:n}){const{t}=k(),a=p(s=>go(s,n));return m(B,{children:[a&&o(Cu,{boostId:a.id,title:t(a.status==="prestake"?"Boost-Upcoming":"Boost-Active")}),o(Fu,{vaultId:n})]})}),Gu=c.memo(function({vaultId:n}){return p(a=>bo(a,n))?o(_u,{vaultId:n}):null}),gn=e=>({header:{backgroundColor:"#272B4A",borderRadius:"12px"},tabs:{backgroundColor:e.palette.background.vaults.inactive,borderTopLeftRadius:"12px",borderTopRightRadius:"12px",display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(50%, 1fr))"},tab:{borderBottom:"solid 2px transparent",color:e.palette.text.disabled,background:"none",padding:0,margin:0,height:"56px",borderTopLeftRadius:"12px",borderTopRightRadius:"12px",borderBottomLeftRadius:0,borderBottomRightRadius:0,"&:first-child:last-child":{pointerEvents:"none"},"&:hover":{background:"none"}},selected:{color:`${e.palette.text.primary}`,borderBottom:`solid 2px ${e.palette.text.disabled}`},cardContent:{display:"flex",flexDirection:"column",backgroundColor:e.palette.background.default,borderRadius:"0 0 12px 12px",padding:"24px"},logo:{height:"50px"},content:{color:e.palette.text.secondary},btn:{color:e.palette.text.primary,backgroundColor:e.palette.primary.main,padding:"12px 24px",borderRadius:"8px","&:hover":{backgroundColor:"#389D44"},"&.Mui-disabled":{backgroundColor:"rgba(255, 255, 255, 0.2)"}},info:{display:"flex",marginBottom:e.spacing(2)},info2:{marginBottom:e.spacing(3)},item:{marginRight:e.spacing(4)},inputContainer:{margin:"24px 0","& .MuiPaper-root":{position:"relative",backgroundColor:e.palette.background.vaults.inactive,borderRadius:"8px",padding:0,margin:0,boxShadow:"none","& .MuiInputBase-input":{...e.typography.h3,height:"auto",padding:`12px 8px 12px ${16+24+8}px`}},"& .MuiButton-root":{...e.typography["subline-sm"],color:e.palette.text.primary,backgroundColor:e.palette.background.vaults.defaultOutline,borderRadius:"4px",margin:0,padding:"6px 12px",position:"absolute",top:"8px",right:"8px",minWidth:0},"& .MuiInputBase-root":{width:"100%"}},inputLogo:{position:"absolute",top:"12px",left:"12px"},balances:{display:"flex",justifyContent:"space-between",marginBottom:e.spacing(1)},label:{...e.typography["subline-sm"],color:e.palette.text.disabled},value:{...e.typography["body-sm"],color:e.palette.text.secondary},customDivider:{display:"flex",alignItems:"center","& img":{margin:"0 12px"}},line:{height:"2px",width:"100%",backgroundColor:e.palette.background.vaults.default,borderRadius:"8px"},boxReminder:{display:"flex",flexWrap:"wrap",marginTop:e.spacing(2),padding:e.spacing(2),borderRadius:e.spacing(.5),backgroundColor:e.palette.background.content},boxReserves:{...e.typography["subline-lg"],display:"flex",flexWrap:"wrap",marginTop:e.spacing(2),padding:e.spacing(2),borderRadius:e.spacing(.5),backgroundColor:e.palette.background.content},reservesText:{color:e.palette.text.disabled,marginRight:e.spacing(.5)},amountReserves:{marginLeft:e.spacing(.5),color:e.palette.text.secondary},noReserves:{marginTop:e.spacing(2)}}),Hu=T(gn),Uu=c.memo(function({vaultId:n,minterId:t}){const a=Hu(),{t:s}=k(),i=M(),r=p(L=>$(L,n)),l=p(L=>ft(L,t)),d=p(L=>z(L,r.chainId)),u=p(L=>ve(L)),h=p(L=>xe(L)===r.chainId),f=p(L=>l.depositToken.type==="native"?q(L,r.chainId,l.depositToken.contractAddress):je(L,r.chainId,l.depositToken.contractAddress)),b=p(L=>je(L,r.chainId,l.mintedToken.contractAddress)),g=p(L=>Ne(L,r.chainId,f.address)),C=p(L=>Ne(L,r.chainId,b.address)),v=p(L=>Kt(L,r.chainId,f.address,l.minterAddress)),{canBurnReserves:y,hasEarningsPool:x,canZapInWithOneInch:N}=l,[w,P]=c.useMemo(()=>{const L=y?"Burnable":"Liquid",K=x?"WithEarnings":"WithoutEarnings",fe=N?"WithZap":"WithoutZap";return["Content","Reminder"].map(G=>[`Mint-${G}-${L}-${K}-${fe}`,`Mint-${G}-${L}-${K}`,`Mint-${G}-${L}`,`Mint-${G}`])},[y,x,N]),E=p(me),[S,A]=R.useState({deposit:{input:"",amount:V,max:!1,token:null,isZap:!1,zapEstimate:{isLoading:!0}},slippageTolerance:.01}),O=()=>{g>V&&A({...S,deposit:{...S.deposit,input:ia(g)?g:st(g),amount:new H(g),max:!0}})},W=L=>{const K=L.replace(/[,]+/,"").replace(/[^0-9.]+/,"");let fe=!1,G=new H(K).decimalPlaces(f.decimals,H.ROUND_FLOOR);(G.isNaN()||G.isLessThanOrEqualTo(0))&&(G=V),G.isGreaterThanOrEqualTo(g)&&(G=new H(g),fe=!0);const os=(()=>G.isEqualTo(K)?K:K===""?"":K==="."?"0.":st(G))();A({...S,deposit:{...S.deposit,input:os,amount:G,max:fe}})},D=()=>{if(!u)return i(de());if(!h)return i(ue({chainId:r.chainId}));f.type!=="native"&&v.isLessThan(S.deposit.amount)&&i(te.addStep({step:{step:"approve",message:s("Vault-ApproveMsg"),action:ne.approval(f,l.minterAddress),pending:!1}})),i(te.addStep({step:{step:"mint",message:s("Vault-TxnConfirm",{type:s("Mint-noun")}),action:ne.mintDeposit(l,f,b,S.deposit.amount,S.deposit.max),pending:!1}})),i(Ee(d.id))};return m(he,{className:a.cardContent,children:[o("div",{className:a.content,children:s(w,{mintedToken:l.mintedToken.symbol,depositToken:l.depositToken.symbol})}),o("div",{className:a.boxReminder,children:o("div",{className:a.content,children:s(P,{mintedToken:l.mintedToken.symbol,depositToken:l.depositToken.symbol})})}),m("div",{className:a.inputContainer,children:[m("div",{className:a.balances,children:[m("div",{className:a.label,children:[s("from")," ",o("span",{className:a.value,children:f.symbol})]}),m("div",{className:a.label,children:[s("wallet")," ",m("span",{className:a.value,children:[re(g,8)," ",f.symbol]})]})]}),m(at,{component:"form",children:[o("div",{className:a.inputLogo,children:o(U,{assetIds:[l.depositToken.symbol],size:24,chainId:d.id})}),o(Pe,{placeholder:"0.00",value:S.deposit.input,onChange:L=>W(L.target.value),disabled:E}),o(oe,{onClick:O,children:s("Transact-Max")})]})]}),m("div",{className:a.customDivider,children:[o("div",{className:a.line}),o("img",{alt:"arrowDown",src:Ta}),o("div",{className:a.line})]}),m("div",{className:a.inputContainer,children:[m("div",{className:a.balances,children:[m("div",{className:a.label,children:[s("to")," ",o("span",{className:a.value,children:b.symbol})]}),m("div",{className:a.label,children:[s("wallet"),m("span",{className:a.value,children:[re(C)," ",b.symbol]})]})]}),m(at,{component:"form",children:[o("div",{className:a.inputLogo,children:o(U,{assetIds:[l.mintedToken.symbol],size:20,chainId:d.id})}),o(Pe,{disabled:!0,placeholder:"0.00",value:S.deposit.input})]})]}),o(B,{children:u?h?o(oe,{disabled:S.deposit.amount.isLessThanOrEqualTo(0)||E,onClick:D,className:a.btn,children:s("action",{action:s("mint"),token:l.mintedToken.symbol})}):o(oe,{onClick:()=>i(ue({chainId:r.chainId})),className:a.btn,children:s("Network-Change",{network:d.name.toUpperCase()})}):o(oe,{onClick:()=>i(de()),className:a.btn,children:s("Network-ConnectWallet")})})]})}),ju=T(gn),zu=c.memo(function({vaultId:n,minterId:t}){const a=ju(),{t:s}=k(),i=M(),r=p(A=>$(A,n)),l=p(A=>ft(A,t)),d=p(A=>z(A,r.chainId)),u=p(A=>ve(A)),h=p(A=>xe(A)===r.chainId),f=p(A=>je(A,r.chainId,l.depositToken.contractAddress)),b=p(A=>je(A,r.chainId,l.mintedToken.contractAddress)),g=p(A=>Ne(A,r.chainId,f.address)),C=p(A=>Ne(A,r.chainId,b.address)),v=p(A=>Kt(A,r.chainId,b.address,l.burnerAddress)),y=p(A=>yo(A,l.id)),x=p(me),[N,w]=R.useState({withdraw:{input:"",amount:V,max:!1,token:null,isZap:!1,zapEstimate:{isLoading:!0}},slippageTolerance:.01}),P=()=>{C>V&&w({...N,withdraw:{...N.withdraw,input:ia(C)?C:st(C),amount:new H(C),max:!0}})},E=A=>{const O=A.replace(/[,]+/,"").replace(/[^0-9.]+/,"");let W=!1,D=new H(O).decimalPlaces(b.decimals,H.ROUND_FLOOR);(D.isNaN()||D.isLessThanOrEqualTo(0))&&(D=V),D.isGreaterThanOrEqualTo(C)&&(D=new H(C),W=!0);const L=(()=>D.isEqualTo(O)?O:O===""?"":O==="."?"0.":st(D))();w({...N,withdraw:{...N.withdraw,input:L,amount:D,max:W}})},S=()=>{if(!u)return i(de());if(!h)return i(ue({chainId:r.chainId}));l.burnerAddress!==b.address&&v.isLessThan(N.withdraw.amount)&&i(te.addStep({step:{step:"approve",message:s("Vault-ApproveMsg"),action:ne.approval(b,l.burnerAddress),pending:!1}})),i(te.addStep({step:{step:"burn",message:s("Vault-TxnConfirm",{type:s("Burn")}),action:ne.burnWithdraw(r.chainId,l.burnerAddress,f,b,N.withdraw.amount,N.withdraw.max,t),pending:!1}})),i(Ee(d.id))};return m(he,{className:a.cardContent,children:[o("div",{className:a.content,children:s("Burn-Content",{mintedToken:l.mintedToken.symbol,depositToken:l.depositToken.symbol})}),m("div",{className:a.boxReserves,children:[o("div",{className:a.reservesText,children:s("reserves",{token:l.depositToken.symbol})}),o(U,{assetIds:[l.depositToken.symbol],size:24,chainId:d.id}),m("div",{className:a.amountReserves,children:[y.shiftedBy(-f.decimals).toFixed(2)," ",f.symbol]})]}),m("div",{className:a.inputContainer,children:[m("div",{className:a.balances,children:[m("div",{className:a.label,children:[s("from")," ",o("span",{className:a.value,children:b.symbol})]}),m("div",{className:a.label,children:[s("wallet")," ",m("span",{className:a.value,children:[re(C,8)," ",b.symbol]})]})]}),m(at,{component:"form",children:[o("div",{className:a.inputLogo,children:o(U,{assetIds:[l.mintedToken.symbol],size:20,chainId:d.id})}),o(Pe,{placeholder:"0.00",value:N.withdraw.input,onChange:A=>E(A.target.value),disabled:x}),o(oe,{onClick:P,children:s("Transact-Max")})]})]}),m("div",{className:a.customDivider,children:[o("div",{className:a.line}),o("img",{alt:"arrowDown",src:Ta}),o("div",{className:a.line})]}),m("div",{className:a.inputContainer,children:[m("div",{className:a.balances,children:[m("div",{className:a.label,children:[s("to")," ",o("span",{className:a.value,children:f.symbol})]}),m("div",{className:a.label,children:[s("wallet"),m("span",{className:a.value,children:[re(g)," ",f.symbol]})]})]}),m(at,{component:"form",children:[o("div",{className:a.inputLogo,children:o(U,{assetIds:[l.depositToken.symbol],size:20,chainId:d.id})}),o(Pe,{disabled:!0,placeholder:"0.00",value:N.withdraw.input})]})]}),o(B,{children:u?h?o(oe,{disabled:N.withdraw.amount.isGreaterThan(y.shiftedBy(-b.decimals))||N.withdraw.amount.isLessThanOrEqualTo(0)||x,onClick:S,className:a.btn,children:s("action",{action:s("burn"),token:l.mintedToken.symbol})}):o(oe,{onClick:()=>i(ue({chainId:r.chainId})),className:a.btn,children:s("Network-Change",{network:d.name.toUpperCase()})}):o(oe,{onClick:()=>i(de()),className:a.btn,children:s("Network-ConnectWallet")})}),N.withdraw.amount.isGreaterThan(y.shiftedBy(-b.decimals))&&o(Ae,{className:a.noReserves,children:s("noreserves",{token:l.depositToken.symbol})})]})}),qu=T(gn),Ku=c.memo(function({vaultId:n,minterId:t}){const a=qu(),{t:s}=k(),i=p(u=>ft(u,t)),[r,l]=R.useState("mint"),{canBurnReserves:d}=i;return o(B,{children:m(ke,{children:[o(Be,{disableDefaultClass:!0,className:a.header,children:m("div",{className:a.tabs,children:[o(oe,{onClick:()=>l("mint"),className:I(a.tab,{[a.selected]:r==="mint"}),children:s("action",{action:s("mint"),token:i.mintedToken.symbol})}),d?o(oe,{onClick:()=>l("burn"),className:I(a.tab,{[a.selected]:r==="burn"}),children:s("action",{action:s("burn"),token:i.mintedToken.symbol})}):null]})}),r==="mint"?o(Uu,{vaultId:n,minterId:t}):o(zu,{vaultId:n,minterId:t})]})})}),Qu=c.memo(function({vaultId:n,minterId:t}){const a=p(l=>ft(l,t)),s=p(l=>pt(l,a.chainId)&&na(l.ui.dataLoader.global.minterForm)),i=p(l=>Ze(l)?aa(l):null),r=sa();return c.useEffect(()=>{vo(r,t,i)},[r,t,i]),o(c.Suspense,{fallback:o(xn,{}),children:s?o(Ku,{vaultId:n,minterId:t}):o(xn,{})})}),Zu=c.memo(function({vaultId:n}){const t=M(),a=p(xo),s=p(i=>ko(i,n));return c.useEffect(()=>{a&&t(Co())},[t,a]),o(B,{children:s.map(i=>o(Qu,{vaultId:n,minterId:i},i))})}),Yu=c.memo(function({vaultId:n}){return m(B,{children:[o(gu,{vaultId:n}),o(Gu,{vaultId:n}),o(Zu,{vaultId:n})]})}),Xu=e=>({header:{display:"flex",[e.breakpoints.down("md")]:{display:"block"}},titleHolder:{display:"flex",marginBottom:"8px",alignItems:"center",flexGrow:1,[e.breakpoints.up("lg")]:{marginBottom:"0"}},title:{...e.typography.h1,color:e.palette.text.secondary,margin:"0 0 0 12px"},labelsHolder:{display:"flex",rowGap:"24px",columnGap:"24px",alignItems:"center",justifyContent:"flex-end",[e.breakpoints.down("md")]:{justifyContent:"flex-start"}},platformLabel:{...e.typography["subline-sm"],color:e.palette.text.disabled,"& span":{color:e.palette.text.primary,textTransform:"uppercase"}},shareHolder:{display:"flex",columnGap:"8px",alignItems:"center",marginLeft:"auto"}}),Ju=e=>({shareButton:{display:"flex",width:"100%",alignItems:"center",justifyContent:"center",gap:"8px",outline:"none","&:focus-visible, &.active":{outline:"none",backgroundColor:"#363B63"},[e.breakpoints.down("md")]:{padding:"10px"}},icon:{flexShrink:0,flexGrow:0,fontSize:"16px"},iconHolder:{height:"24px",width:"24px",borderRadius:"50%",display:"flex",justifyContent:"center",alignItems:"center",backgroundColor:e.palette.background.content,[e.breakpoints.up("lg")]:{height:"16px",width:"16px",backgroundColor:"transparent"}}}),ep=T(Ju),tp=c.memo(function({vaultId:n,className:t}){const a=ep(),s=M(),i=p(l=>ti(l,n)),r=c.useCallback(()=>{s(To.setSavedVaultIds(n))},[s,i]);return o(F,{borderless:!0,className:I(a.shareButton,t),onClick:r,variant:"middle",children:i?o(Oi,{className:a.icon}):o(Vi,{className:a.icon})})}),np=T(Xu),ap=c.memo(function({vaultId:n}){const{t}=k(),a=np(),s=p(r=>$(r,n)),i=p(r=>z(r,s.chainId));return m("div",{className:a.header,children:[m("div",{className:a.titleHolder,children:[o(U,{assetIds:s.assetIds,size:48,chainId:s.chainId}),m("h1",{className:a.title,children:[ni(s.name)," ",j(s)?"":t("Vault-vault")]})]}),m("div",{className:a.labelsHolder,children:[m("div",{className:a.platformLabel,children:[t("Chain")," ",o("span",{children:i.name})]}),m("div",{className:a.platformLabel,children:[t("Platform")," ",o("span",{children:o(ai,{vaultId:n})})]}),s.status==="active"?o(B,{children:m("div",{className:a.shareHolder,children:[o(tp,{vaultId:n}),o(wo,{hideText:!0,vaultId:n,mobileAlternative:!0})]})}):null]})]})}),sp=e=>({stats:{display:"grid",gridTemplateColumns:"100%",rowGap:"24px",columnGap:"24px",[e.breakpoints.up("lg")]:{display:"grid",gridTemplateColumns:"minmax(0,666fr) minmax(0,333fr)"}},interestStats:{width:"100%"},interestStatsBox:{height:96,display:"flex",justifyContent:"flex-start",backgroundColor:e.palette.background.default,borderRadius:"8px",padding:"16px 24px",[e.breakpoints.down("md")]:{padding:"16px"}},depositStats:{width:"100%"},depositStatsBox:{height:96,display:"flex",flexWrap:"nowrap",justifyContent:"flex-end",textAlign:"end",backgroundColor:e.palette.background.default,borderRadius:"8px",padding:"16px 24px",[e.breakpoints.down("md")]:{justifyContent:"flex-start",textAlign:"start",padding:"16px"}},stat:{display:"flex",width:"33%",paddingTop:0,paddingBottom:0,marginRight:e.spacing(4),[e.breakpoints.down("md")]:{marginRight:e.spacing(2)}},stat1:{paddingTop:0,paddingBottom:0,display:"flex",justifyContent:"flex-end",[e.breakpoints.down("md")]:{marginLeft:0,marginRight:e.spacing(4),justifyContent:"flex-start"}},stat3:{display:"flex",flexDirection:"column",justifyContent:"flex-start",alignItems:"flex-start"},stat4:{display:"flex",flexDirection:"column",justifyContent:"flex-start",alignItems:"flex-end",[e.breakpoints.down("md")]:{alignItems:"flex-start"}},divider:{marginRight:e.spacing(3),width:2,backgroundColor:e.palette.background.content,[e.breakpoints.down("sm")]:{marginRight:e.spacing(2.5)}},divider1:{width:2,backgroundColor:e.palette.background.content,marginLeft:e.spacing(3),[e.breakpoints.down("md")]:{marginLeft:0,marginRight:e.spacing(2.5)}}}),op=e=>({valueStrikethrough:{...e.typography["subline-sm"],color:e.palette.type==="dark"?"#8585A6":"#A69885",textAlign:"left",textDecoration:"line-through"},value:{...e.typography["body-lg-med"],margin:0,padding:0}}),ip=T(op),rp=({value:e,boosted:n})=>{const t=ip();return m(B,{children:[n&&o("div",{className:t.value,children:n}),o("div",{className:n?t.valueStrikethrough:t.value,children:e})]})},ts=c.memo(rp),lp=e=>({value:{...e.typography["body-lg-med"],margin:0,padding:0,whiteSpace:"nowrap",[e.breakpoints.down("md")]:{textAlign:"left"}},label:{...e.typography["subline-sm"],color:e.palette.text.disabled,textAlign:"left",[e.breakpoints.up("md")]:{textAlign:"center"}},price:{...e.typography["subline-sm"],color:e.palette.text.disabled,whiteSpace:"nowrap"},blurred:{filter:"blur(.5rem)"},tooltipLabel:{display:"flex",alignItems:"center"},tooltipHolder:{marginLeft:e.spacing(.5)},noTextContentLoader:{paddingTop:"3px"}}),Vn=e=>{e.__disable_link=!0},cp=T(lp);function De({label:e,value:n,textContent:t=!0,tooltip:a,usdValue:s,loading:i=!1,blurred:r=!1}){const l=cp();return m(B,{children:[a?m("div",{className:l.tooltipLabel,onClick:Vn,onTouchStart:Vn,children:[o("div",{className:l.label,children:e}),o("div",{className:l.tooltipHolder,children:o(Na,{title:a.title,children:a.content})})]}):o("div",{className:l.label,children:e}),t?o("div",{className:I({[l.value]:!0,[l.blurred]:r}),children:i?o(vt,{}):o(B,{children:r?"....":n})}):i?o(se,{className:l.noTextContentLoader,children:o(vt,{})}):o(B,{children:r?"....":n}),s&&o("div",{className:I({[l.price]:!0,[l.blurred]:r}),children:i?o(vt,{}):o(B,{children:r?"...":s})})]})}const dp=({isGovVault:e,boosted:n,rates:t})=>{const a=[],{t:s}=k();return e?(a.push({label:s("Pool-Apr"),value:t.vaultApr,last:!0}),o(qe,{rows:a})):("vaultApr"in t&&a.push({label:s("Vault-Breakdown-VaultApr"),value:t.vaultApr,last:!1}),"tradingApr"in t&&a.push({label:s("Vault-Breakdown-TradingApr"),value:t.tradingApr,last:!1}),"liquidStakingApr"in t&&a.push({label:s("Vault-Breakdown-LiquidStakingApr"),value:t.liquidStakingApr,last:!1}),"composablePoolApr"in t&&a.push({label:s("Vault-Breakdown-ComposablePoolApr"),value:t.composablePoolApr,last:!1}),"boostApr"in t&&a.push({label:s("Vault-Breakdown-BoostApr"),value:t.boostApr,last:!1}),a.push({label:s("APY"),value:n?t.boostedTotalApy:t.totalApy,last:!0}),o(qe,{rows:a}))},up=c.memo(dp),pp=({isGovVault:e,boosted:n,rates:t})=>{const a=[],{t:s}=k();return e?(a.push({label:s("Pool-AprDaily"),value:t.vaultDaily,last:!0}),o(qe,{rows:a})):("vaultDaily"in t&&a.push({label:s("Vault-Breakdown-VaultDaily"),value:t.vaultDaily,last:!1}),"tradingDaily"in t&&a.push({label:s("Vault-Breakdown-TradingDaily"),value:t.tradingDaily,last:!1}),"liquidStakingDaily"in t&&a.push({label:s("Vault-Breakdown-LiquidStakingDaily"),value:t.liquidStakingDaily,last:!1}),"composablePoolDaily"in t&&a.push({label:s("Vault-Breakdown-ComposablePoolDaily"),value:t.composablePoolDaily,last:!1}),"boostDaily"in t&&a.push({label:s("Vault-Breakdown-BoostDaily"),value:t.boostDaily,last:!1}),a.push({label:s("Vault-Breakdown-DailyAPY"),value:n?t.boostedTotalDaily:t.totalDaily,last:!0}),o(qe,{rows:a}))},mp=c.memo(pp);function hp({vaultId:e}){const{t:n}=k(),t=p(d=>$(d,e)),a=p(d=>Ve(d,e)),s=_t(t),i=p(d=>!ra(d,e)||!la(d,e)),r=p(d=>Wt(d,e)),l=Ft(r);return o(De,{label:j(t)?n("APR"):n("APY"),textContent:!1,value:o(ts,{boosted:a&&s?l.boostedTotalApy:null,value:s?l.totalApy:"-"}),tooltip:s?{content:o(up,{isGovVault:j(t),boosted:a,rates:l})}:null,loading:s&&i})}const fp=c.memo(hp);function gp({vaultId:e}){const{t:n}=k(),t=p(d=>$(d,e)),a=p(d=>Ve(d,e)),s=_t(t),i=p(d=>!ra(d,e)||!la(d,e)),r=p(d=>Wt(d,e)),l=Ft(r);return o(De,{label:n("Vault-Daily"),textContent:!1,value:o(ts,{boosted:a&&s?l.boostedTotalDaily:null,value:s?l.totalDaily:"-"}),tooltip:s?{content:o(mp,{isGovVault:j(t),boosted:a,rates:l})}:null,loading:s&&i})}const bp=c.memo(gp),yp=gt((e,{vaultId:n})=>{var l;const t=$(e,n),a=((l=e.ui.dataLoader.byChainId[t.chainId])==null?void 0:l.contractData.alreadyLoadedOnce)&&e.ui.dataLoader.global.prices.alreadyLoadedOnce,s=Ve(e,n),i=a?Jo(e,n):V,r=j(t)?Zt(e,t.id):Yt(e,t.id);return{isBoosted:s,vaultTvl:Se(i),hasDeposit:r.isGreaterThan(0),loading:!a}})(({vaultTvl:e,loading:n})=>{const{t}=k();return o(De,{label:t("TVL"),value:e,blurred:!1,loading:n,usdValue:null})}),vp=R.memo(yp),xp=gt((e,{vaultId:n})=>{var u;const t=$(e,n),a=j(t)?Zt(e,t.id):Yt(e,t.id),s=q(e,t.chainId,t.depositTokenAddress),i=a.gt(0),r=Se(ca(e,n)),l=Xt(e),d=e.ui.dataLoader.global.prices.alreadyLoadedOnce&&Ze(e)?(u=e.ui.dataLoader.byChainId[t.chainId])==null?void 0:u.balance.alreadyLoadedOnce:!0;return{hasDeposit:i,deposit:a,depositUsd:r,depositToken:s,blurred:l,loading:!d}})(({hasDeposit:e,deposit:n,depositUsd:t,depositToken:a,blurred:s,loading:i})=>{const{t:r}=k();return o(De,{label:r("Vault-deposited"),value:o(Z,{amount:n,token:a,minShortPlaces:4}),usdValue:e?t:null,blurred:s,loading:i})}),kp=R.memo(xp),Cp=gt((e,{vaultId:n})=>{var u;const t=$(e,n),a=j(t)?Zt(e,t.id):Yt(e,t.id),s=q(e,t.chainId,t.depositTokenAddress),i=a.gt(0),r=Se(ca(e,n)),l=Xt(e),d=e.ui.dataLoader.global.prices.alreadyLoadedOnce&&Ze(e)?(u=e.ui.dataLoader.byChainId[t.chainId])==null?void 0:u.balance.alreadyLoadedOnce:!0;return{hasDeposit:i,deposit:a,depositUsd:r,depositToken:s,blurred:l,loading:!d}})(({hasDeposit:e,deposit:n,depositUsd:t,depositToken:a,blurred:s,loading:i})=>{const{t:r}=k();return o(De,{label:r("Vault-deposited"),value:o(Z,{amount:n,token:a,minShortPlaces:4}),usdValue:e?t:null,blurred:s,loading:i})}),Tp=R.memo(Cp),wp=({vaultId:e})=>{const n=p(a=>Ve(a,e)),t=p(a=>So(a,e));return n&&t?o(kp,{vaultId:e}):o(Tp,{vaultId:e})},Sp=R.memo(wp),Np=gt((e,{vaultId:n})=>{var u;const t=$(e,n),a=q(e,t.chainId,t.earnedTokenAddress),s=ea(e,t.id),i=No(e,t.id),r=Xt(e),l=e.ui.dataLoader.global.prices.alreadyLoadedOnce&&Ze(e)?(u=e.ui.dataLoader.byChainId[t.chainId])==null?void 0:u.balance.alreadyLoadedOnce:!0,d=i.gt(0);return{earnedToken:a,rewardsEarnedToken:re(s,4,!d),rewardsEarnedUsd:Se(i),blurred:r,hasRewards:d,loading:!l}})(({rewardsEarnedToken:e,rewardsEarnedUsd:n,earnedToken:t,blurred:a,loading:s,hasRewards:i})=>{const{t:r}=k();return o(De,{label:r("Vault-Rewards"),value:`${e} ${t.symbol}`,usdValue:i?n:null,blurred:a,loading:s})}),Ip=R.memo(Np),Ap=T(sp);function Bp({vaultId:e}){const n=Lp(e),t=Ap(),{t:a}=k(),s=p(i=>$(i,e));return m("div",{className:t.stats,children:[o("div",{className:t.interestStats,children:m(se,{className:t.interestStatsBox,children:[o(se,{width:"33%",className:t.stat3,children:o(vp,{vaultId:e})}),m(se,{className:t.stat,children:[o(yt,{className:t.divider,orientation:"vertical"}),o(se,{className:t.stat3,children:o(fp,{vaultId:s.id})})]}),m(se,{display:"flex",children:[o(yt,{className:t.divider,orientation:"vertical"}),o(se,{className:t.stat3,children:o(bp,{vaultId:s.id})})]})]})}),o("div",{className:t.depositStats,children:m(Xe,{container:!0,className:t.depositStatsBox,children:[o(Xe,{item:!0,xs:6,className:t.stat1,children:o(se,{className:t.stat4,children:o(Sp,{vaultId:e})})}),(j(s)||n!=="never")&&o(yt,{flexItem:!0,className:t.divider1,orientation:"vertical"}),j(s)?o(Xe,{item:!0,xs:6,children:o(se,{className:t.stat4,children:o(Ip,{vaultId:e})})}):o(B,{children:n!=="never"&&o(Xe,{item:!0,xs:6,children:o(se,{className:t.stat4,children:o(De,{label:a("Vault-LastHarvest"),value:n})})})})]})})]})}const Dp=R.memo(Bp),Lp=e=>{const[n,t]=R.useState("");return R.useEffect(()=>{(async()=>{const s=await Io().getVaultLastHarvest(e);if(s===null)t("never");else{const i=Gi(s,new Date,{addSuffix:!0});t(i)}})()},[e]),n};function Rp(e,n){var t;return((t=e.biz.historical.ranges.byVaultId[n])==null?void 0:t.status)||"idle"}function $p(e,n){return ns(e,n)||as(e,n)||ss(e,n)}function ns(e,n){var t;return Object.values(((t=e.biz.historical.apys.byVaultId[n])==null?void 0:t.availableTimebuckets)||{}).some(a=>a)}function as(e,n){var t;return Object.values(((t=e.biz.historical.tvls.byVaultId[n])==null?void 0:t.availableTimebuckets)||{}).some(a=>a)}function ss(e,n){var t;return Object.values(((t=e.biz.historical.prices.byOracleId[n])==null?void 0:t.availableTimebuckets)||{}).some(a=>a)}const Mp=Ao((e,n,t)=>ss(e,t),ns,as,Bo,(e,n,t,a)=>{const s=[];return n&&a&&s.push("apy"),t&&s.push("tvl"),e&&s.push("price"),s});function Ep(e,n,t){var a,s;return((s=(a=e.biz.historical.apys.byVaultId[n])==null?void 0:a.byTimebucket[t])==null?void 0:s.status)||"idle"}function Pp(e,n,t){var a,s;return((s=(a=e.biz.historical.tvls.byVaultId[n])==null?void 0:a.byTimebucket[t])==null?void 0:s.status)||"idle"}function Op(e,n,t){var a,s;return((s=(a=e.biz.historical.prices.byOracleId[n])==null?void 0:a.byTimebucket[t])==null?void 0:s.status)||"idle"}function Vp(e,n,t){var a,s;return((s=(a=e.biz.historical.apys.byVaultId[n])==null?void 0:a.byTimebucket[t])==null?void 0:s.data)||[]}function Wp(e,n,t){var a,s;return((s=(a=e.biz.historical.tvls.byVaultId[n])==null?void 0:a.byTimebucket[t])==null?void 0:s.data)||[]}function Fp(e,n,t){var a,s;return((s=(a=e.biz.historical.prices.byOracleId[n])==null?void 0:a.byTimebucket[t])==null?void 0:s.data)||[]}const Fe=Do(Lo,()=>!1);function _p(e,n){var t;return((t=e.biz.historical.prices.byOracleId[n])==null?void 0:t.availableTimebuckets)||Fe}function Gp(e,n){var t;return((t=e.biz.historical.apys.byVaultId[n])==null?void 0:t.availableTimebuckets)||Fe}function Hp(e,n){var t;return((t=e.biz.historical.tvls.byVaultId[n])==null?void 0:t.availableTimebuckets)||Fe}function Up(e,n){var t;return((t=e.biz.historical.prices.byOracleId[n])==null?void 0:t.loadedTimebuckets)||Fe}function jp(e,n){var t;return((t=e.biz.historical.apys.byVaultId[n])==null?void 0:t.loadedTimebuckets)||Fe}function zp(e,n){var t;return((t=e.biz.historical.tvls.byVaultId[n])==null?void 0:t.loadedTimebuckets)||Fe}function qp(e,n,t){return Up(e,n)[t]}function Kp(e,n,t){return jp(e,n)[t]}function Qp(e,n,t){return zp(e,n)[t]}function Zp(e,n,t,a,s){switch(n){case"apy":return Ep(e,t,s);case"tvl":return Pp(e,t,s);case"price":return Op(e,a,s)}throw new Error(`Unknown stat: ${n}`)}function Yp(e,n,t,a){switch(n){case"apy":return Gp(e,t);case"tvl":return Hp(e,t);case"price":return _p(e,a)}throw new Error(`Unknown stat: ${n}`)}function Xp(e,n,t,a,s){switch(n){case"apy":return Kp(e,t,s);case"tvl":return Qp(e,t,s);case"price":return qp(e,a,s)}throw new Error(`Unknown stat: ${n}`)}function Jp(e,n,t,a,s){switch(n){case"apy":return Vp(e,t,s);case"tvl":return Wp(e,t,s);case"price":return Fp(e,a,s)}throw new Error(`Unknown stat: ${n}`)}const em=e=>({tabs:{marginTop:"16px",backgroundColor:e.palette.background.default,[e.breakpoints.up("sm")]:{marginTop:0}}}),tm=T(em),nm=c.memo(function({availableStats:n,stat:t,onChange:a}){const s=tm(),{t:i}=k(),r=c.useMemo(()=>Object.fromEntries(n.map(l=>[l,i(`Graph-${l}`)])),[n,i]);return o(Jt,{value:t,options:r,onChange:a,buttonsClass:s.tabs})}),am=()=>({tabs:{border:0,padding:0,background:"transparent",gap:"12px"},tab:{border:0,padding:0,background:"transparent","&:hover":{background:"transparent"}},selected:{background:"transparent"}}),sm=T(am),om=c.memo(function({availableRanges:n,range:t,onChange:a}){const s=sm(),{t:i}=k(),r=c.useMemo(()=>Object.fromEntries(n.map(l=>[l,i(`Graph-${l}`)])),[n,i]);return o(Jt,{value:t,options:r,onChange:a,buttonsClass:s.tabs,buttonClass:s.tab,selectedClass:s.selected})}),im=e=>({content:{...e.typography["body-lg"],color:"#272B4A",padding:"12px 16px",minWidth:"250px",background:"#fff",borderRadius:"8px",textAlign:"left"},timestamp:{marginBottom:"8px"},grid:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"8px 16px"},label:{},labelDetail:{...e.typography["body-sm"],lineHeight:1},value:{...e.typography["body-lg-med"],textAlign:"right"}}),rm=T(im),lm=c.memo(function({active:n,payload:t,stat:a,bucket:s,toggles:i,valueFormatter:r,avg:l}){const d=rm(),{t:u}=k(),{maPeriods:h,maUnit:f}=c.useMemo(()=>da(s),[s]);if(!n)return null;const[b,g]=t,[C,v]=[b==null?void 0:b.value,g==null?void 0:g.value],{t:y}=b.payload;return m("div",{className:d.content,children:[o("div",{className:d.timestamp,children:va(ua(y),"MMM d, yyyy h:mm a")}),m("div",{className:d.grid,children:[m("div",{className:d.label,children:[u(`Graph-${a}`),":"]}),o("div",{className:d.value,children:r(C)}),i.average?m(B,{children:[m("div",{className:d.label,children:[u("Average"),":"]}),o("div",{className:d.value,children:r(l)})]}):null,i.movingAverage?m(B,{children:[m("div",{className:d.label,children:[m("div",{children:[u("Moving-Average"),":"]}),o("div",{className:d.labelDetail,children:`(${h} ${u(f)})`})]}),o("div",{className:d.value,children:r(v)})]}):null]})]})});function cm(e,n,t,a){const{startEpoch:s,maPeriods:i}=c.useMemo(()=>da(a),[a]),r=p(d=>Jp(d,e,n,t,a)),l=c.useMemo(()=>{if(r&&r.length){const d=r.map(g=>g.v),u=Math.min(...d),h=Math.max(...d),f=d.reduce((g,C)=>g+C,0)/d.length,b=new Ro(i);return{data:r.map(g=>({...g,ma:b.next(g.v)})),min:u,max:h,avg:f}}return{data:[],min:0,max:0,avg:0}},[r,i]);return c.useMemo(()=>({...l,data:l.data.filter(d=>d.t>=s)}),[l,s])}const dm=e=>({chartContainer:{padding:"16px 0px",[e.breakpoints.down("md")]:{padding:"16px 0px"}},graph:{"& text":{...e.typography["subline-sm"],fill:e.palette.text.disabled},"& .recharts-yAxis":{"& .recharts-cartesian-axis-tick":{opacity:1,transition:"ease-in-out 0.5s"}},"&:hover":{"& .recharts-yAxis":{"& .recharts-cartesian-axis-tick":{opacity:.5,transition:"ease-in-out 0.5s"}}}}}),um=T(dm),pm=c.memo(function({vaultId:n,oracleId:t,stat:a,bucket:s,toggles:i}){const r=um(),l=$o(w=>w.breakpoints.down("xs"),{noSsr:!0}),{min:d,max:u,avg:h,data:f}=cm(a,n,t,s),b=c.useMemo(()=>({top:14,right:l?16:24,bottom:0,left:l?16:24}),[l]),g=c.useMemo(()=>w=>mm(w,s),[s]),C=c.useMemo(()=>li(f.length,l),[f.length,l]),v=c.useMemo(()=>a==="apy"?w=>ye(w):w=>Mo(w),[a]),y=c.useMemo(()=>[d,u],[d,u]),x=c.useMemo(()=>ci(d,u),[d,u]),N=c.useCallback(w=>o(lm,{...w,stat:a,bucket:s,toggles:i,valueFormatter:v,avg:h}),[a,s,i,v,h]);return o("div",{className:r.chartContainer,children:o(di,{height:200,children:m(Xr,{data:f,className:r.graph,height:200,margin:b,children:[o(ui,{strokeDasharray:"2 2",stroke:"#363B63"}),o(ba,{dataKey:"t",tickMargin:10,tickFormatter:g,interval:C,stroke:"#363B63",tick:pi,padding:"no-gap"}),o(pe,{dataKey:"v",stroke:"#F5F5FF",strokeWidth:1.5,fill:"rgba(255, 255, 255, 0.05)",fillOpacity:100}),o(Ri,{content:N,wrapperStyle:{outline:"none"}}),i.movingAverage?o(pe,{dataKey:"ma",stroke:"#4F93C4",strokeWidth:1.5,fill:"none"}):null,i.average?o($i,{y:h,stroke:"#59A662",strokeWidth:1.5,strokeDasharray:"3 3"}):null,o(ya,{dataKey:"v",tickFormatter:v,domain:y,mirror:!0,stroke:"#363B63",ticks:x})]})})})}),mm=(e,n)=>{const t=ua(e);return n==="1h_1d"?va(t,"HH:mm"):t.toLocaleDateString(void 0,{month:"numeric",day:"numeric"})},hm=e=>({toggles:{display:"flex",gap:"8px 16px",flexWrap:"wrap"},toggleCheckbox:{},toggleIcon:{fontSize:"20px",width:"20px",height:"20px"},toggleLabel:{...e.typography["subline-sm"],display:"flex",gap:"8px",color:e.palette.text.disabled},toggleLabelLine:{height:"2px",width:"12px"}}),bn=T(hm),fm=c.memo(function({toggles:n,onChange:t,className:a}){const s=bn(),{t:i}=k(),r=c.useCallback((l,d)=>{t({...n,[l]:d})},[n,t]);return m("div",{className:I(s.toggles,a),children:[o(Wn,{checked:n.average,color:"#59A662",label:i("Average"),onChange:r,toggle:"average"}),o(Wn,{checked:n.movingAverage,color:"#5C99D6",label:i("Moving-Average"),onChange:r,toggle:"movingAverage"})]})}),Wn=c.memo(function({checked:n,color:t,label:a,toggle:s,onChange:i}){const r=bn(),l=c.useCallback(d=>i(s,d),[s,i]);return o(pa,{iconClass:r.toggleIcon,checkboxClass:r.toggleCheckbox,labelClass:r.toggleLabel,checked:n,onChange:l,label:o(gm,{text:a,color:t})})}),gm=c.memo(function({text:n,color:t}){const a=bn();return m(B,{children:[o("span",{style:{backgroundColor:t},className:a.toggleLabelLine}),n]})}),bm=e=>({footer:{display:"flex",flexWrap:"nowrap",gap:"16px",justifyContent:"space-between",alignItems:"center",borderTop:"2px solid #363B63",padding:"16px 24px",borderRadius:"0px 0px 12px 12px",[e.breakpoints.down("sm")]:{padding:"8px 16px"}}}),ym=T(bm),vm=c.memo(function({vaultId:n,oracleId:t,stat:a}){const s=ym(),i=M(),r=p(v=>Yp(v,a,n,t)),l=c.useMemo(()=>Eo(r),[r]),[d,u]=c.useState(()=>Po(l)),h=c.useMemo(()=>Oo[d],[d]),f=p(v=>Zp(v,a,n,t,h)),b=p(v=>Xp(v,a,n,t,h)),[g,C]=c.useState({average:!0,movingAverage:!0});return c.useEffect(()=>{f==="idle"&&i(Vo(a,n,t,h))},[i,n,t,a,h,f]),m("div",{children:[b?o(pm,{vaultId:n,oracleId:t,stat:a,bucket:h,toggles:g}):o(mi,{}),m("div",{className:s.footer,children:[o(fm,{toggles:g,onChange:C}),o(om,{range:d,availableRanges:l,onChange:u})]})]})}),xm=e=>({header:{[e.breakpoints.up("sm")]:{display:"flex",justifyContent:"space-between",alignItems:"center"}},content:{padding:0}}),km=T(xm),Cm=c.memo(function({vaultId:n}){const t=km(),{t:a}=k(),s=p(u=>$(u,n)),{oracleId:i}=p(u=>q(u,s.chainId,s.depositTokenAddress)),r=p(u=>Mp(u,n,i)),[l,d]=c.useState(()=>Wo(r));return m(ke,{children:[m(Be,{className:t.header,children:[o(Ye,{title:a("Graph-RateHist")}),o(nm,{stat:l,availableStats:r,onChange:d})]}),o(he,{className:t.content,children:o(vm,{vaultId:n,oracleId:i,stat:l})})]})}),Tm=c.memo(function({vaultId:n}){const t=M(),a=p(i=>Rp(i,n)),s=p(i=>$p(i,n));return c.useEffect(()=>{a==="idle"&&t(Fo({vaultId:n}))},[t,a,n]),s?o(Cm,{vaultId:n}):null}),wm=T(Ui),Sm=c.lazy(()=>_o(()=>import("./index-f824b213.js"),["assets/index-f824b213.js","assets/index-fc282d72.js"])),Um=c.memo(function(){const{id:n}=Go(),t=p(Ho),a=p(s=>Uo(s,n));return t?a?o(Im,{vaultId:n}):o(Nm,{id:n}):o(jo,{text:"Loading..."})}),Nm=c.memo(function({id:n}){const t=p(a=>zo(a,n));return t!==void 0?o(qo,{to:`/vault/${t}`}):o(Sm,{})}),Im=c.memo(function({vaultId:n}){const t=wm(),a=p(i=>$(i,n)),s=p(i=>Ko(i,n));return m(Qo,{maxWidth:"lg",className:t.page,children:[o($r,{vaultId:n}),o(ei,{vaultId:n}),o(ap,{vaultId:n}),o(Dp,{vaultId:n}),o("div",{className:t.contentContainer,children:m("div",{className:t.contentColumns,children:[m("div",{className:t.columnActions,children:[o(Yu,{vaultId:n}),m(vn,{smDown:!0,children:[o(Dn,{vaultId:n}),o(Ln,{vaultId:n})]})]}),m("div",{className:t.columnInfo,children:[s&&o(vr,{vaultId:n}),j(a)&&o(Cr,{vaultId:n}),j(a)?null:o(hi,{vaultId:n}),j(a)?null:o(Tm,{vaultId:n}),o(cl,{vaultId:n}),o(rr,{vaultId:n}),j(a)?null:o(Zi,{vaultId:n}),o(Lr,{chainId:a.chainId,vaultId:a.id}),o(bl,{vaultId:a.id}),m(vn,{mdUp:!0,children:[o(Dn,{vaultId:n}),o(Ln,{vaultId:n})]})]})]})})]})});export{Um as default};
